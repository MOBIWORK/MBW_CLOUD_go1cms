[{"name": "PS-24-0000012574", "owner": "Administrator", "creation": "2024-10-05 08:50:17.328727", "modified": "2024-10-15 16:19:36.813529", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "section_title": "BreadCrumb web bán hàng 1", "route": "breadcrumb web b-n h-ng 1", "class_name": "jeeqzjlt", "is_template": 0, "section_group": "Trang web bán hàng 1", "is_full_width": 0, "allow_clone": 1, "is_clone": 0, "section_type": "Static Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "BreadCrumb web bán hàng 1", "image_option": "Same Document", "allow_update_to_style": 0, "query_by_category": 0, "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-10-04 16-07-41.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<div class=\"bg-[white] container mb-[60px] rounded-b-md border border-solid border-grey\">\n          <div\n            class=\"breadcumb mx-auto container py-4 flex flex-wrap flex-row items-center justify-between gap-2\"\n          >\n                       <span class=\"text-sm font-semibold text-[#4B5966]\">{{ title }}</span>\n            <div class=\"flex flex-wrap flex-row items-center gap-2\">\n            {% for brc in breadcrumb %} \n             {% if loop.first %}\n               <a href=\"{{ brc.route }}\" class=\"text-sm font-normal text-[#212B36]\">{{ brc.menu }}</a>\n             {% elif not loop.last %}\n            <img\n              src=\"/files/no-active-arrown.svg\"\n              alt=\"\"\n              class=\"w-6 h-6\"\n            />\n            <a href=\"{{ brc.route }}\" class=\"text-sm font-normal text-[#212B36]\">{{ brc.menu }}</a>\n             {% else %}\n            <img\n              src=\"/files/active-arrown.svg\"\n              alt=\"\"\n              class=\"w-6 h-6\"\n            />\n            <a href=\"{{ brc.route }}\" class=\"text-sm font-normai text-[#1877F2]\"\n              >{{ brc.menu }}</a\n            >\n           {% endif %}\n           {% endfor %}\n           </div>\n\n          </div>\n        </div>", "doctype": "Page Section", "content": [{"name": "ae9398a5b5", "owner": "Administrator", "creation": "2024-10-05 08:50:17.328727", "modified": "2024-10-15 16:19:36.813529", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Đường dẫn", "field_key": "breadcrumb", "field_type": "List", "content_type": "Data", "allow_update_to_style": 0, "content": "[{\"menu\":\"Trang chủ\",\"route\":\"/home\",\"idx\":1},{\"menu\":\"Giao hàng\",\"route\":\"#\",\"idx\":2}]", "fields_json": "[{\"field_label\":\"Tiêu đề\",\"field_key\":\"menu\",\"field_type\":\"Text\",\"idx\":1},{\"field_label\":\"Đường dẫn\",\"field_key\":\"route\",\"field_type\":\"Text\",\"idx\":2}]", "parent": "PS-24-0000012574", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "c3b0f11840", "owner": "Administrator", "creation": "2024-10-05 08:50:17.328727", "modified": "2024-10-15 16:19:36.813529", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "field_label": "Tiêu đề", "field_key": "title", "field_type": "Text", "content_type": "Data", "allow_update_to_style": 0, "content": "Giao hàng", "parent": "PS-24-0000012574", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}, {"name": "PS-24-0000014549", "owner": "Administrator", "creation": "2024-10-15 14:20:56.915884", "modified": "2024-10-15 14:20:56.924699", "modified_by": "Administrator", "docstatus": 0, "idx": 3, "section_title": "Thông tin vận chuyển và thanh toán web bán hàng 1", "route": "th-ng tin v-n chuy-n v- thanh to-n web b-n h-ng 1", "class_name": "vcogxwrz", "is_template": 1, "section_group": "Trang web bán hàng 1", "is_full_width": 0, "allow_clone": 1, "is_clone": 0, "section_type": "Static Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "Thông tin vận chuyển và thanh toán web bán hàng 1", "image_option": "Same Document", "allow_update_to_style": 0, "query_by_category": 0, "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-07-03 09-58-43.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<div class=\"container mx-auto my-10 pb-[30px] text-[#212B36] relative\">\n      <div id=\"loading\" class=\"loading-overlay absolute\">\n        <div class=\"spinner\"></div>\n      </div>\n      <div class=\"cart-items flex flex-col xl:flex-row justify-between gap-[60px]\">\n        <div class=\"w-full xl:w-4/6 bg-white py-6 px-4 rounded-lg shadow-lg\">\n          <form action=\"\" id=\"orderForm\">\n            <p class=\"font-bold text-lg leading-7\">\n              Thông tin giao hàng\n            </p>\n            <p class=\"font-bold text-sm leading-7 pt-6\">\n              Thông tin cá nhân\n            </p>\n            <div class=\"grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6\">\n              <div class=\"sm:col-span-2\">\n                <div class=\"floating-label mt-2\">\n                  <input type=\"text\" name=\"full_name\" id=\"full_name\" autocomplete=\"given-name\"\n                    class=\"bg-white h-[54px] block w-full rounded-md border-0 px-3 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                    placeholder=\"\" />\n                  <label for=\"full_name\" class=\"text-[#919EAB]\">Họ và tên</label>\n                </div>\n                <div id=\"full_name_error\" class=\"error text-left\"></div>\n              </div>\n              <div class=\"sm:col-span-2\">\n                <div class=\"floating-label mt-2\">\n                  <input type=\"email\" name=\"email\" id=\"email\" autocomplete=\"given-name\"\n                    class=\"bg-white h-[54px] block w-full rounded-md border-0 px-3 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                    placeholder=\"\" />\n                  <label for=\"email\" class=\"text-[#919EAB]\">Email</label>\n                </div>\n                <div id=\"email_error\" class=\"error text-left\"></div>\n              </div>\n              <div class=\"sm:col-span-2\">\n                <div class=\"floating-label mt-2\">\n                  <input type=\"number\" name=\"phone_number\" id=\"phone_number\" autocomplete=\"given-name\"\n                    class=\"bg-white h-[54px] block w-full rounded-md border-0 px-3 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                    placeholder=\"\" />\n                  <label for=\"phone_number\" class=\"text-[#919EAB]\">Số điện thoại</label>\n                </div>\n                <div id=\"phone_number_error\" class=\"error text-left\"></div>\n              </div>\n            </div>\n            <p class=\"font-bold text-sm leading-7 px-4 pt-6\">Địa chỉ</p>\n            <div class=\"grid grid-cols-1 gap-x-6 gap-y-6 sm:grid-cols-6 px-4\">\n              <div class=\"sm:col-span-6\">\n                <div class=\"mt-2 floating-label\">\n                  <textarea name=\"address\" id=\"address\" rows=\"4\" autocomplete=\"given-name\"\n                    class=\"bg-white block w-full rounded-md border-0 px-3 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                    placeholder=\"\" style=\"resize: none\"></textarea>\n                  <label for=\"address\" class=\"label-textarea text-[#919EAB]\">Địa chỉ chi tiết</label>\n                </div>\n                <div id=\"address_error\" class=\"error text-left\"></div>\n              </div>\n            </div>\n          </form>\n        </div>\n        <div class=\"w-full xl:w-2/6\">\n          <div class=\"p-6 bg-white border rounded-lg shadow-lg h-fit\">\n            <h2 class=\"text-lg font-bold mb-4\">Chi tiết thanh toán</h2>\n            <div class=\"border-b border-dashed\">\n              <p class=\"mb-2 flex justify-between\">\n                Tổng tiền <span class=\"total-amount\">0 VND</span>\n              </p>\n              <p class=\"mb-2 flex justify-between\">\n                Giảm giá: <span class=\"discount\">0 VND</span>\n              </p>\n              <p class=\"mb-2 flex justify-between\">\n                Phí vận chuyển: <span class=\"shipping-fee\">0 VND</span>\n              </p>\n            </div>\n    \n            <p class=\"mb-4 flex justify-between mt-4\">\n              Thành tiền:\n              <span class=\"final-amount text-red-500\">0 VND</span>\n            </p>\n          </div>\n          <button class=\"btn-checkout bg-[#5CAF90] text-white px-4 py-2 rounded-lg w-full mt-6\" id=\"submitButton\">\n            Hoàn tất đơn hàng\n          </button>\n        </div>\n      </div>\n    </div>", "custom_css": "     .floating-label {\n        position: relative;\n      }\n      .floating-label input:focus + label,\n      .floating-label input:not(:placeholder-shown) + label {\n        transform: translateY(-3em);\n        font-size: 0.75rem;\n        color: #4a5568; /* Tailwind's gray-700 */\n      }\n      .floating-label label {\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        left: 0.75em;\n        pointer-events: none;\n        transition: all 0.2s ease-out;\n        background-color: white;\n        padding: 0 0.25em;\n      }\n\n      .floating-label textarea:focus + label,\n      .floating-label textarea:not(:placeholder-shown) + label {\n        transform: translateY(-2em);\n        font-size: 0.75rem;\n        color: #4a5568; /* Tailwind's gray-700 */\n      }\n\n      .floating-label .label-textarea {\n        top: 10%;\n        transform: translateY(-10%);\n      }\n\n      select:invalid {\n        color: gray;\n      }\n\n      .error {\n        color: red;\n        font-size: 14px;\n      }\n      /* Overlay for the entire screen */\n      .loading-overlay {\n        top: 50%;\n        transform: translateY(-50%);\n        width: 100%;\n        height: 100%;\n        background: rgba(255, 255, 255, 0.8);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        z-index: 9999; /* Ensure it is above all other elements */\n        display: none; /* Hidden by default */\n      }\n\n      /* Spinner */\n      .spinner {\n        border: 4px solid rgba(0, 0, 0, 0.1);\n        border-top: 4px solid #3498db;\n        border-radius: 50%;\n        width: 40px;\n        height: 40px;\n        animation: spin 1s linear infinite;\n      }\n\n      /* Spinner animation */\n      @keyframes spin {\n        0% {\n          transform: rotate(0deg);\n        }\n        100% {\n          transform: rotate(360deg);\n        }\n      }\n\n      .overlay {\n        display: none;\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.5);\n        z-index: 999;\n      }\n\n      .text-hide {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n        overflow: hidden;\n        text-overflow: ellipsis;\n      }", "custom_js": "<script>\n      \n      function showLoading(show) {\n        let loadingIndicator = document.getElementById(\"loading\");\n        // Hiển thị hoặc ẩn loading indicator\n        loadingIndicator.style.display = show ? \"flex\" : \"none\";\n      }\n      //gia tien\n      const totalAmount = document.querySelector(\".total-amount\");\n      const finalAmount = document.querySelector(\".final-amount\");\n\n      const updateTotal=()=> {\n        const itemCart = getCartCookie();\n        totalAmount.textContent =\n          (itemCart?.grand_total?.toLocaleString(\"vi-VN\") ?? 0) + \" VND\";\n\n        const shippingFee = 0;\n        const finalTotal = (itemCart?.grand_total ?? 0) + shippingFee;\n        finalAmount.textContent = (finalTotal.toLocaleString(\"vi-VN\") ?? 0) + \" VND\";\n      }\n\n      const apiCreateOrder = \"/api/method/go1_cms.api.website.cart.create_order\";\n\n      const validateForm = () => {\n        const name = document.getElementById(\"full_name\").value;\n        const email = document.getElementById(\"email\").value;\n        const phone_number = document.getElementById(\"phone_number\").value;\n        const address = document.getElementById(\"address\").value;\n\n        const full_name_error = document.getElementById(\"full_name_error\");\n        const email_error = document.getElementById(\"email_error\");\n        const phone_number_error = document.getElementById(\"phone_number_error\");\n        const address_error = document.getElementById(\"address_error\");\n\n        full_name_error.textContent = \"\";\n        email_error.textContent = \"\";\n        phone_number_error.textContent = \"\";\n        address_error.textContent = \"\";\n\n        if (name === \"\") {\n          full_name_error.textContent = \"Vui lòng nhập họ và tên\";\n          return false;\n        }\n\n        if (email === \"\") {\n          email_error.textContent = \"Vui lòng nhập email\";\n          return false;\n        }\n\n        if (phone_number === \"\") {\n          phone_number_error.textContent = \"Vui lòng nhập số điện thoại\";\n          return false;\n        }\n\n        if (address === \"\") {\n          address_error.textContent = \"Vui lòng nhập địa chỉ\";\n          return false;\n        }\n\n        return true;\n      };\n\n      document.getElementById(\"full_name\").addEventListener(\"input\", function () {\n        document.getElementById(\"full_name_error\").textContent = \"\";\n      });\n      document.getElementById(\"email\").addEventListener(\"input\", function () {\n        document.getElementById(\"email_error\").textContent = \"\";\n      });\n      document.getElementById(\"phone_number\").addEventListener(\"input\", function () {\n        document.getElementById(\"phone_number_error\").textContent = \"\";\n      });\n      document.getElementById(\"address\").addEventListener(\"input\", function () {\n        document.getElementById(\"address_error\").textContent = \"\";\n      });\n\n      document\n        .getElementById(\"submitButton\")\n        .addEventListener(\"click\", function (event) {\n          event.preventDefault();\n          const address = document.getElementById(\"address\").value;\n          const name = document.getElementById(\"full_name\").value;\n          const email = document.getElementById(\"email\").value;\n          const phone_number = document.getElementById(\"phone_number\").value;\n\n          const formData = {\n            address: address,\n            full_name: name,\n            email: email,\n            phone_number: phone_number,\n          };\n\n          if (!validateForm()) {\n            return;\n          }\n          showLoading(true)\n          fetch(apiCreateOrder, {\n            method: \"POST\",\n            headers: {\n              \"X-Frappe-CSRF-Token\": \"{{csrf_token}}\",\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(formData),\n          })\n            .then((response) => {\n              if (response.status === 403) {\n                window.location.href = \"/dang-nhap\";\n              } else if (!response.ok) {\n                Swal.fire({\n                  position: \"top-end\",\n                  icon: \"error\",\n                  title: \"Có lỗi xảy ra, vui lòng thử lại sau\",\n                  showConfirmButton: false,\n                  timer: 1500,\n                  toast: true,\n                });\n                throw new Error(\"Có lỗi xảy ra, vui lòng thử lại sau\");\n              } else {\n                return response.json();\n              }\n              showLoading(false);\n            })\n            .then((result) => {\n              window.location.href = \"/dat-hang-thanh-cong\";\n            })\n            .catch((error) => {\n              console.error(\"Error:\", error);\n            });\n        });\n\n      const apiGetAccountInfo =\n        \"/api/method/go1_cms.api.website.account.get_accout_info\";\n\n      const getAccountInfo = () => {\n        showLoading(true)\n        fetch(`${apiGetAccountInfo}`, {\n          method: \"POST\",\n          headers: {\n            \"X-Frappe-CSRF-Token\": \"{{csrf_token}}\",\n          },\n        })\n          .then((response) => {\n            if (!response.ok) {\n              throw new Error(\"Network response was not ok\");\n            } else {\n              return response.json();\n            }\n          })\n          .then((result) => {\n            document.getElementById(\"full_name\").value =\n              result.message.address_info.full_name ||\n              result.message.account_info.full_name ||\n              \"\";\n            document.getElementById(\"email\").value =\n              result.message.address_info.email ||\n              result.message.account_info.email ||\n              \"\";\n            document.getElementById(\"phone_number\").value =\n              result.message.address_info.phone ||\n              result.message.account_info.mobile_no ||\n              \"\";\n            document.getElementById(\"address\").value =\n              result.message.address_info.address_line1 ||\n              result.message.account_info.location ||\n              \"\";\n            updateTotal();\n          showLoading(false)\n          })\n          .catch((error) => {\n            console.error(\"Error:\", error);\n          });\n      };\n\n      getAccountInfo();\n\n      const getCartCookie =()=> {\n        const cartCookie = getCookie(\"cart\");\n\n        if (cartCookie) {\n          try {\n            // Dùng JSON.parse để chuyển chuỗi JSON thành đối tượng JavaScript\n            const cartObject = JSON.parse(decodeURIComponent(cartCookie));\n            return cartObject;\n          } catch (error) {\n            console.error(\"Lỗi khi phân tích JSON từ cookie:\", error);\n          }\n        } else {\n          console.log(\"Không tìm thấy cookie cart\");\n        }\n\n        return null;\n      }\n\n    </script>", "doctype": "Page Section", "content": [], "section_column_css": [], "column_index": 1}]