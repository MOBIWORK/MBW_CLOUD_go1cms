[{"name": "PS-24-0000010672", "owner": "Administrator", "creation": "2024-09-11 14:11:21.371125", "modified": "2024-10-08 15:49:54.361902", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "section_title": "banner điều hướng web dvbv", "route": "banner -i-u h--ng web dvbv", "class_name": "xnxjqkxh", "is_template": 0, "section_group": "Web dịch vụ bảo vệ", "is_full_width": 0, "allow_clone": 1, "is_clone": 0, "section_type": "Static Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "banner điều hướng web dvbv", "image_option": "Same Document", "allow_update_to_style": 0, "query_by_category": 0, "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-09-10 13-44-42.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<div class=\"bg-[url('{{ img }}')] bg-cover bg-no-repeat bg-left min-h-[250px] flex flex-col text-white items-start mb-[60px]\">\n      <div class=\"pt-[92px] flex flex-col gap-[14px] container mr-auto\">\n         <div class=\"\"><span class=\"font-bold text-[40px] leading-[48px]\">{{ title }}</span></div>\n\n         <div class=\"flex flex-wrap flex-row gap-3 items-start\">\n              {% for brc in breadcrumb %} \n      {% if loop.first %}\n        <a\n          href=\"{{ brc.route }}\"\n          class=\"font-medium text-xl leading-6 text-white\"\n          target=\"_blank\"\n        >{{ brc.menu }}</a>\n      {% else %}\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M9.50391 18C9.64453 18 9.77734 17.9766 9.90234 17.9297C10.0273 17.8828 10.1289 17.8125 10.207 17.7188L15.2227 12.7031C15.3164 12.625 15.3867 12.5234 15.4336 12.3984C15.4805 12.2734 15.5039 12.1406 15.5039 12C15.5039 11.8594 15.4805 11.7305 15.4336 11.6133C15.3867 11.4961 15.3164 11.3906 15.2227 11.2969L10.207 6.30469C10.1289 6.21094 10.0273 6.13672 9.90234 6.08203C9.77734 6.02734 9.64453 6 9.50391 6C9.22266 6 8.98438 6.09766 8.78906 6.29297C8.59375 6.48828 8.49609 6.71875 8.49609 6.98438C8.49609 7.14062 8.52344 7.27734 8.57812 7.39453C8.63281 7.51172 8.70703 7.61719 8.80078 7.71094L13.0898 12L8.80078 16.3125C8.70703 16.3906 8.63672 16.4922 8.58984 16.6172C8.54297 16.7422 8.51953 16.875 8.51953 17.0156C8.51953 17.2812 8.61719 17.5117 8.8125 17.707C9.00781 17.9023 9.23828 18 9.50391 18Z\" fill=\"white\"/>\n</svg>\n\n        <a\n          href=\"{{ brc.route }}\"\n          target=\"_blank\"\n          class=\"font-medium text-xl leading-6 text-white\"\n        >{{ brc.menu }}</a>\n      {% endif %}\n    {% endfor %}\n              \n         </div>\n      </div>\n    </div>", "doctype": "Page Section", "content": [{"name": "bd6c1686ca", "owner": "Administrator", "creation": "2024-09-11 14:11:21.371125", "modified": "2024-10-08 15:49:54.361902", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "banner", "field_key": "img", "field_type": "Attach", "content_type": "Data", "allow_update_to_style": 0, "content": "/files/bannerdvbv.png", "parent": "PS-24-0000010672", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "a5af525d7c", "owner": "Administrator", "creation": "2024-09-11 14:11:21.371125", "modified": "2024-10-08 15:49:54.361902", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "field_label": "tiêu đề", "field_key": "title", "field_type": "Long Text", "content_type": "Data", "allow_update_to_style": 0, "content": "Dự án", "parent": "PS-24-0000010672", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "2d3d7047fd", "owner": "Administrator", "creation": "2024-09-11 14:11:21.371125", "modified": "2024-10-08 15:49:54.361902", "modified_by": "Administrator", "docstatus": 0, "idx": 3, "field_label": "Đường dẫn", "field_key": "breadcrumb", "field_type": "List", "content_type": "Data", "allow_update_to_style": 0, "content": "[{\"menu\":\"Trang chủ\",\"route\":\"/home\",\"idx\":1},{\"menu\":\"Dự án\",\"route\":\"/du-an\",\"idx\":2}]", "fields_json": "[{\"field_label\":\"Tiêu đề\",\"field_key\":\"menu\",\"field_type\":\"Text\",\"idx\":1},{\"field_label\":\"Đường dẫn\",\"field_key\":\"route\",\"field_type\":\"Text\",\"idx\":2}]", "parent": "PS-24-0000010672", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}, {"name": "PS-24-0000013373", "owner": "Administrator", "creation": "2024-10-08 16:39:09.975776", "modified": "2024-10-08 16:39:09.986223", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "section_title": "List dự án web dv bảo vệ", "route": "list d- -n web dv b-o v-", "class_name": "afsiteey", "is_template": 1, "section_group": "Web dịch vụ bảo vệ", "is_full_width": 0, "allow_clone": 1, "is_clone": 0, "section_type": "Custom Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "List dự án web dv bảo vệ", "image_option": "Same Document", "allow_update_to_style": 0, "reference_document": "Mbw Blog Post", "query_by_category": 1, "category": "Dự án", "no_of_records": 12, "sort_by": "DESC", "dynamic_data": 0, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-09-10 15-13-01.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": " <section class=\"w-full discover flex item-center justify-center py-5 my-10\">\n      <div class=\"container flex-col text-center\">\n        <div class=\"grid grid-cols-1 xl:grid-cols-4 gap-4\">\n          <div class=\"col-span-4 grid grid-cols-1 gap-0\">\n            <div class=\"flex flex-col gap-[15px] mb-[30px]\">\n              <span class=\"font-semibold text-[32px] text-[#111111]\"\n                >{{ title }}</span\n              >\n              <span class=\"font-normal text-base text-[#434A6E] max-w-[726px] w-full mx-auto\">\n                {{ content }}</span\n              >\n            </div>\n            <div\n              class=\"list-info text-left grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 h-fit\"\n              id=\"news-container\"\n            ></div>\n            <div\n              id=\"pagination-container\"\n              class=\"flex justify-center h-fit hidden\"\n            >\n              <button id=\"prev-page\" class=\"px-2 py-[1px] text-xl\"><</button>\n              <button id=\"next-page\" class=\"px-2 py-[1px] text-xl\">></button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>", "custom_css": " .text-container {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n      }\n\n      .text-line {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n        overflow: hidden;\n      }\n\n      .page-number.active {\n        border: 1px solid #c4161c;\n        color: #c4161c;\n        border-radius: 2px;\n        font-weight: 500;\n      }\n\n      .no-active {\n        color: gray;\n        pointer-events: none;\n      }", "custom_js": "<script>\n      let news = [];\n      const apiBlogList =\n        \"/api/method/go1_cms.api.website.blog.get_blog_list\";\n      const name_section = \"{{ name_section }}\";\n      let text_search = \"\";\n      let itemsPerPage = 9; // Số lượng công việc trên mỗi trang\n      let total_page = 1;\n      let total = 1;\n      let category = \"{{ category }}\"\n\n      // Lấy URL hiện tại\n      const currentUrl = new URL(window.location.href);\n\n      // Lấy số trang hiện tại từ URL hoặc mặc định là 1\n      let currentPage = parseInt(currentUrl.searchParams.get(\"page_number\")) || 1;\n\n      const getBlogList = () => {\n        fetch(\n          `${apiBlogList}?name_section=${name_section}&page_no=${currentPage}&blog_category=${category}`,\n          {\n            method: \"GET\"\n          }\n        )\n          .then((response) => response.json())\n          .then((result) => {\n            if (result.message) {\n              news = result.message?.data;\n              itemsPerPage = result.message?.pagination.limit;\n              total_page = result.message?.pagination.total_page;\n              total = result.message?.pagination.total;\n            }\n          })\n          .catch((error) => {\n          })\n          .finally(() => {\n            displayNews();\n            updateURL();\n          });\n      };\n\n      function displayNews() {\n        const newContainer = document.getElementById(\"news-container\");\n        newContainer.innerHTML = \"\"; // Xóa nội dung cũ\n        if (news.length === 0) {\n          const emptyElement = document.createElement(\"div\");\n          emptyElement.className =\n            \"flex flex-col justify-center items-center gap-[38px] py-[80px] col-span-full mt-[38px]\";\n          emptyElement.innerHTML = `\n        <img src=\"/files/empty-state.svg\" alt=\"\" class=\"w-[245.64px] h-[236.85px]\"></img>\n        <span class=\"text-[#212B36] font-bold text-xl\">Không có kết quả tìm kiếm </span>\n        `;\n          newContainer.appendChild(emptyElement);\n        } else {\n          for (const blog of news) {\n            const blogElement = document.createElement(\"a\");\n            blogElement.href = `/${blog.route}`;\n            blogElement.className =\n              \"w-full h-full item bg-white border border-gray-200 rounded-lg shadow\";\n            blogElement.innerHTML = `\n                  <img\n                      class=\"rounded-t-lg w-full h-[287px]\"\n                      src=\"${blog.meta_image}\"\n                      alt=\"\"\n                  />\n                  \n                      <div class=\"p-5 flex flex-col gap-[6px]\">\n                          <div class=\"text-container\">\n                            <h5\n                              class=\"mb-2 text-lg font-bold tracking-tight text-[#212B36] \"\n                            >\n                              ${blog.title}\n                            </h5>\n                          </div>\n                      </div>\n              `;\n            newContainer.appendChild(blogElement);\n          }\n        }\n\n        // Hiển thị các nút phân trang\n        displayPagination();\n        window.scrollTo(0, 0);\n      }\n\n      function displayPagination() {\n        const paginationContainer = document.getElementById(\"pagination-container\");\n        total_page <= 1\n          ? paginationContainer.classList.add(\"hidden\")\n          : paginationContainer.classList.remove(\"hidden\");\n\n        const prevPage = document.getElementById(\"prev-page\");\n        const nextPage = document.getElementById(\"next-page\");\n\n        currentPage === 1\n          ? prevPage?.classList.add(\"no-active\")\n          : prevPage.classList.remove(\"no-active\");\n        currentPage === total_page\n          ? nextPage?.classList.add(\"no-active\")\n          : nextPage.classList.remove(\"no-active\");\n\n        paginationContainer\n          ?.querySelectorAll(\".page-number\")\n          ?.forEach((button) => button.remove());\n\n        for (let i = 1; i <= total_page; i++) {\n          const pageButton = document.createElement(\"button\");\n          pageButton.innerText = i;\n          pageButton.className = `page-number text-sm text-[#222222] font-normal px-2 py-[1px] ${i === currentPage ? \"active\" : \"\"\n            }`;\n          pageButton.addEventListener(\"click\", () => {\n            currentPage = i;\n            getBlogList();\n          });\n          paginationContainer?.insertBefore(\n            pageButton,\n            document.getElementById(\"next-page\")\n          );\n        }\n      }\n\n      function updateURL() {\n        const currentUrl = new URL(window.location.href);\n        currentUrl.searchParams.set(\"page_number\", currentPage);\n        history.replaceState({}, \"\", currentUrl);\n      }\n\n      // Thêm sự kiện click cho nút Previous\n      document.getElementById(\"prev-page\").addEventListener(\"click\", () => {\n        if (currentPage > 1) {\n          currentPage--;\n          getBlogList();\n        }\n      });\n\n      // Thêm sự kiện click cho nút Next\n      document.getElementById(\"next-page\").addEventListener(\"click\", () => {\n        if (currentPage < total_page) {\n          currentPage++;\n          getBlogList();\n        }\n      });\n\n      // Gọi hàm hiển thị lần đầu tiên\n      getBlogList();\n\n    </script>", "doctype": "Page Section", "content": [{"name": "ab98b7903f", "owner": "Administrator", "creation": "2024-10-08 16:39:09.975776", "modified": "2024-10-08 16:39:09.986223", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Tiêu đề", "field_key": "title", "field_type": "Small Text", "content_type": "Data", "allow_update_to_style": 0, "content": "Dự án của chúng tôi", "parent": "PS-24-0000013373", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "32c7234be8", "owner": "Administrator", "creation": "2024-10-08 16:39:09.975776", "modified": "2024-10-08 16:39:09.986223", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "field_label": "Mô tả", "field_key": "content", "field_type": "Long Text", "content_type": "Data", "allow_update_to_style": 0, "content": "Trở thành công ty hàng đầu trong lĩnh vực an ninh và bảo vệ tại\n                khu vực Đông Nam Á, không ngừng đổi mới và tiên phong trong ứng\n                dụng công nghệ an ninh tiên tiến. ", "parent": "PS-24-0000013373", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}]