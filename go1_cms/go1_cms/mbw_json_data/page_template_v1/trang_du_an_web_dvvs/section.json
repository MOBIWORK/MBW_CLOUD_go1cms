[{"name": "PS-24-0000010158", "owner": "Administrator", "creation": "2024-09-06 14:10:08.712039", "modified": "2024-09-06 14:10:08.712039", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "section_title": "banner điều hướng web dịch vụ vệ sinh", "route": "banner -i-u h--ng web d-ch v- v- sinh", "class_name": "aupxtvta", "is_template": 0, "section_group": "web dịch vụ vệ sinh", "is_full_width": 0, "allow_clone": 1, "is_clone": 0, "section_type": "Static Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "banner điều hướng web dịch vụ vệ sinh", "image_option": "Same Document", "allow_update_to_style": 0, "query_by_category": 0, "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-09-05 11-19-58.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<div class=\"bg-[url('{{ img }}')] bg-cover bg-no-repeat bg-left h-[250px] flex flex-col text-white items-center\">\n      <div class=\"pt-[92px] flex flex-col gap-[14px] \">\n         <div class=\"text-center\"><span class=\"font-bold text-[40px] leading-[48px]\">{{ title }}</span></div>\n\n         <div class=\"flex flex-row gap-3 items-center\">\n              {% for brc in breadcrumb %} \n      {% if loop.first %}\n        <a\n          href=\"{{ brc.route }}\"\n          class=\"font-medium text-xl leading-6 text-white\"\n          target=\"_blank\"\n        >{{ brc.menu }}</a>\n      {% else %}\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M9.50391 18C9.64453 18 9.77734 17.9766 9.90234 17.9297C10.0273 17.8828 10.1289 17.8125 10.207 17.7188L15.2227 12.7031C15.3164 12.625 15.3867 12.5234 15.4336 12.3984C15.4805 12.2734 15.5039 12.1406 15.5039 12C15.5039 11.8594 15.4805 11.7305 15.4336 11.6133C15.3867 11.4961 15.3164 11.3906 15.2227 11.2969L10.207 6.30469C10.1289 6.21094 10.0273 6.13672 9.90234 6.08203C9.77734 6.02734 9.64453 6 9.50391 6C9.22266 6 8.98438 6.09766 8.78906 6.29297C8.59375 6.48828 8.49609 6.71875 8.49609 6.98438C8.49609 7.14062 8.52344 7.27734 8.57812 7.39453C8.63281 7.51172 8.70703 7.61719 8.80078 7.71094L13.0898 12L8.80078 16.3125C8.70703 16.3906 8.63672 16.4922 8.58984 16.6172C8.54297 16.7422 8.51953 16.875 8.51953 17.0156C8.51953 17.2812 8.61719 17.5117 8.8125 17.707C9.00781 17.9023 9.23828 18 9.50391 18Z\" fill=\"white\"/>\n</svg>\n\n        <a\n          href=\"{{ brc.route }}\"\n          target=\"_blank\"\n          class=\"font-medium text-xl leading-6 text-white\"\n        >{{ brc.menu }}</a>\n      {% endif %}\n    {% endfor %}\n              \n         </div>\n      </div>\n    </div>", "doctype": "Page Section", "content": [{"name": "b6fc8182a3", "owner": "Administrator", "creation": "2024-09-06 14:10:08.712039", "modified": "2024-09-06 14:10:08.712039", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "banner", "field_key": "img", "field_type": "Attach", "content_type": "Data", "allow_update_to_style": 0, "content": "/files/Banner.png", "parent": "PS-24-0000010158", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "496dfb0426", "owner": "Administrator", "creation": "2024-09-06 14:10:08.712039", "modified": "2024-09-06 14:10:08.712039", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "field_label": "tiêu đề", "field_key": "title", "field_type": "Long Text", "content_type": "Data", "allow_update_to_style": 0, "content": "Giới thiệu", "parent": "PS-24-0000010158", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "c04f8467a9", "owner": "Administrator", "creation": "2024-09-06 14:10:08.712039", "modified": "2024-09-06 14:10:08.712039", "modified_by": "Administrator", "docstatus": 0, "idx": 3, "field_label": "Đường dẫn", "field_key": "breadcrumb", "field_type": "List", "content_type": "Data", "allow_update_to_style": 0, "content": "[{\"menu\":\"Trang chủ\",\"route\":\"/home\",\"idx\":1},{\"menu\":\"Dự án\",\"route\":\"/du-an\",\"idx\":2}]", "fields_json": "[{\"field_label\":\"Tiêu đề\",\"field_key\":\"menu\",\"field_type\":\"Text\",\"idx\":1},{\"field_label\":\"Đường dẫn\",\"field_key\":\"route\",\"field_type\":\"Text\",\"idx\":2}]", "parent": "PS-24-0000010158", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}, {"name": "PS-24-0000012956", "owner": "Administrator", "creation": "2024-10-07 15:24:32.202708", "modified": "2024-10-07 15:24:32.216325", "modified_by": "Administrator", "docstatus": 0, "idx": 3, "section_title": "Trang dự án web dvvs", "route": "trang d- -n web dvvs", "class_name": "jjhyppvc", "is_template": 1, "section_group": "web dịch vụ vệ sinh", "is_full_width": 0, "allow_clone": 1, "is_clone": 0, "section_type": "Custom Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "Trang dự án web dvvs", "image_option": "Same Document", "allow_update_to_style": 0, "reference_document": "Mbw Blog Post", "query_by_category": 1, "category": "Dự án", "no_of_records": 9, "sort_by": "DESC", "dynamic_data": 0, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-09-06 10-33-47.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "    <section class=\"w-full discover flex item-center justify-center py-5 my-10\">\n      <div class=\"container flex-col text-center mx-3 xl:mx-0\">\n        <div class=\"grid grid-cols-1 xl:grid-cols-4 gap-4 \">\n          <div class=\"col-span-3 xl:col-span-1 order-last mb-5\">\n            <div\n              class=\"flex flex-col border text-left border-gray-500 rounded-xl\"\n            >\n              <div class=\"p-5\">\n                <div class=\"my-3 block\">\n                  <p class=\"mb-2 text-[#212B36] font-semibold leading-5\">\n                    {{title_recent}}\n                  </p>\n                  <div class=\"w-full\" id=\"blog-recent-container\"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-span-3 grid grid-cols-1 gap-0\">\n            <div\n              class=\"list-info text-left grid grid-cols-1 md:grid-cols-2 gap-10 h-fit\"\n              id=\"news-container\"\n            ></div>\n            <div\n              id=\"pagination-container\"\n              class=\"flex justify-center h-fit hidden\"\n            >\n              <button id=\"prev-page\" class=\"px-2 py-[1px] text-xl\">\n                <svg\n                  class=\"h-4\"\n                  viewBox=\"0 0 7 12\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M6.83938 2.06621V1.03094C6.83938 0.941211 6.73625 0.891658 6.66661 0.946568L0.629107 5.66219C0.57781 5.70209 0.536302 5.75317 0.50775 5.81154C0.479198 5.86992 0.464355 5.93404 0.464355 5.99902C0.464355 6.06401 0.479198 6.12813 0.50775 6.18651C0.536302 6.24488 0.57781 6.29596 0.629107 6.33585L6.66661 11.0515C6.73759 11.1064 6.83938 11.0568 6.83938 10.9671V9.93184C6.83938 9.86621 6.80857 9.80327 6.75768 9.76309L1.93625 5.99969L6.75768 2.23496C6.80857 2.19478 6.83938 2.13184 6.83938 2.06621Z\"\n                    fill=\"currentColor\"\n                  />\n                </svg>\n              </button>\n              <button id=\"next-page\" class=\"px-2 py-[1px] text-xl\">\n                <svg\n                  class=\"h-4\"\n                  viewBox=\"0 0 7 12\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M6.39777 5.66281L0.360269 0.947189C0.344493 0.934768 0.325533 0.92705 0.305568 0.924919C0.285603 0.922788 0.265441 0.926332 0.247399 0.935143C0.229357 0.943955 0.214166 0.957676 0.203571 0.974732C0.192976 0.991787 0.187406 1.01149 0.187501 1.03156V2.06683C0.187501 2.13246 0.218305 2.1954 0.269198 2.23558L5.09063 6.00031L0.269198 9.76505C0.216966 9.80522 0.187501 9.86817 0.187501 9.9338V10.9691C0.187501 11.0588 0.290626 11.1083 0.360269 11.0534L6.39777 6.33781C6.44908 6.29779 6.4906 6.24658 6.51915 6.1881C6.5477 6.12962 6.56254 6.06539 6.56254 6.00031C6.56254 5.93523 6.5477 5.87101 6.51915 5.81253C6.4906 5.75404 6.44908 5.70284 6.39777 5.66281Z\"\n                    fill=\"currentColor\"\n                  />\n                </svg>\n             </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>", "custom_css": ".text-container {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n      }\n\n      .text-line {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n        overflow: hidden;\n      }\n\n      .page-number.active {\n        border: 1px solid #c4161c;\n        color: #c4161c;\n        border-radius: 2px;\n        font-weight: 500;\n      }\n\n      .no-active {\n        color: gray;\n        pointer-events: none;\n      }", "custom_js": "<script>\n      let news = [];\n      let recent_news = [];\n      const apiBlogList =\n        \"/api/method/go1_cms.api.website.blog.get_blog_list\";\n      const apiRecentNews =\n        \"/api/method/go1_cms.api.website.blog.get_recent_blog\";\n      const name_section = \"{{ name_section }}\";\n      let text_search = \"\";\n      let itemsPerPage = 9; // Số lượng công việc trên mỗi trang\n      let total_page = 1;\n      let total = 1;\n      let category = \"{{category}}\"\n\n      // Lấy URL hiện tại\n      const currentUrl = new URL(window.location.href);\n\n      // Lấy số trang hiện tại từ URL hoặc mặc định là 1\n      let currentPage = parseInt(currentUrl.searchParams.get(\"page_number\")) || 1;\n\n      const getRecentBlog = () => {\n        fetch(`${apiRecentNews}?name_section=${name_section}`, {\n          method: \"GET\"\n        })\n          .then((response) => response.json())\n          .then((result) => {\n            if (result.message) {\n              recent_news = result.message?.data;\n            }\n          })\n          .catch((error) => {\n          })\n          .finally(() => {\n            displayBlogRecent();\n          });\n      };\n\n      const getBlogList = () => {\n        const currentUrl = new URL(window.location.href);\n        fetch(\n          `${apiBlogList}?name_section=${name_section}&page_no=${currentPage}&blog_category=${category}`,\n          {\n            method: \"GET\"\n          }\n        )\n          .then((response) => response.json())\n          .then((result) => {\n            if (result.message) {\n              news = result.message?.data;\n              itemsPerPage = result.message?.pagination.limit;\n              total_page = result.message?.pagination.total_page;\n              total = result.message?.pagination.total;\n            }\n          })\n          .catch((error) => {\n          })\n          .finally(() => {\n            displayNews();\n            updateURL();\n          });\n      };\n\n      function displayNews() {\n        const newContainer = document.getElementById(\"news-container\");\n        newContainer.innerHTML = \"\"; // Xóa nội dung cũ\n        if (news.length === 0) {\n          const emptyElement = document.createElement(\"div\");\n          emptyElement.className =\n            \"flex flex-col justify-center items-center gap-[38px] py-[80px] col-span-full mt-[38px]\";\n          emptyElement.innerHTML = `\n        <img src=\"/files/empty-state.svg\" alt=\"\" class=\"w-[245.64px] h-[236.85px]\"></img>\n        <span class=\"text-[#212B36] font-bold text-xl\">Không có kết quả tìm kiếm </span>\n        `;\n          newContainer.appendChild(emptyElement);\n        } else {\n          for (const blog of news) {\n            const blogElement = document.createElement(\"div\");\n            blogElement.className =\n              \"w-full h-full item bg-white border border-gray-200 rounded-lg shadow\";\n            blogElement.innerHTML = `\n                  <img\n                      class=\"rounded-t-lg w-full h-[291px] lazy opacity-0\"\n                      data-src=\"${blog.meta_image}\"\n                      alt=\"\"\n                  />\n                  \n                      <div class=\"p-5 flex flex-col gap-[6px]\">\n                          <p class=\"text-gray-500 font-normal text-sm leading-[21px] flex gap-2\">\n                            <svg width=\"19\" height=\"19\" viewBox=\"0 0 19 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path d=\"M9.5 0.5C8.25 0.5 7.08594 0.742188 6.00781 1.22656C4.91406 1.69531 3.95703 2.33594 3.13672 3.14844C2.31641 3.96094 1.67188 4.91406 1.20312 6.00781C0.734375 7.10156 0.5 8.26562 0.5 9.5C0.5 10.75 0.734375 11.9219 1.20312 13.0156C1.67188 14.1094 2.31641 15.0625 3.13672 15.875C3.95703 16.6875 4.91406 17.3281 6.00781 17.7969C7.08594 18.2656 8.25 18.5 9.5 18.5C10.75 18.5 11.9141 18.2656 12.9922 17.7969C14.0859 17.3281 15.043 16.6875 15.8633 15.875C16.6836 15.0625 17.3281 14.1094 17.7969 13.0156C18.2656 11.9219 18.5 10.75 18.5 9.5C18.5 8.26562 18.2656 7.10156 17.7969 6.00781C17.3281 4.91406 16.6836 3.96094 15.8633 3.14844C15.043 2.33594 14.0859 1.69531 12.9922 1.22656C11.9141 0.742188 10.75 0.5 9.5 0.5ZM13.5078 11.0703C13.4297 11.2578 13.3086 11.4102 13.1445 11.5273C12.9805 11.6445 12.7969 11.7031 12.5938 11.7031C12.5312 11.7031 12.4648 11.6953 12.3945 11.6797C12.3242 11.6641 12.2578 11.6484 12.1953 11.6328H12.2188L9.03125 10.3203C8.84375 10.2422 8.69141 10.1211 8.57422 9.95703C8.45703 9.79297 8.39844 9.60938 8.39844 9.40625V4.69531C8.39844 4.42969 8.49609 4.19922 8.69141 4.00391C8.88672 3.80859 9.125 3.71094 9.40625 3.71094C9.6875 3.71094 9.92578 3.80859 10.1211 4.00391C10.3164 4.19922 10.4141 4.42969 10.4141 4.69531V8.72656L12.9688 9.78125C13.1562 9.85938 13.3086 9.98047 13.4258 10.1445C13.543 10.3086 13.6016 10.4922 13.6016 10.6953C13.6016 10.7734 13.5938 10.8438 13.5781 10.9062C13.5625 10.9688 13.5391 11.0312 13.5078 11.0938V11.0703Z\" fill=\"#637381\"/>\n                            </svg>\n                            ${blog.published_on}\n                          </p>\n      \n                          <div class=\"text-container\">\n                            <h5\n                              class=\"mb-2 text-lg font-bold tracking-tight text-[#212B36] \"\n                            >\n                              ${blog.title}\n                            </h5>\n                          </div>\n                          <a href=\"/${blog.route}\" class=\"w-fit border rounded-lg px-4 py-[12.5px]\">\n                            Xem thêm >>\n                          </a>\n                      </div>\n              `;\n            newContainer.appendChild(blogElement);\n          }\n        }\n\n        // Hiển thị các nút phân trang\n        displayPagination();\n        window.scrollTo(0, 0);\n        lazyLoading();\n      }\n\n      function displayBlogRecent() {\n        const blogRecent = document.getElementById(\"blog-recent-container\");\n\n        for (const blog of recent_news) {\n          const blogElement = document.createElement(\"a\");\n          blogElement.href = blog.route;\n          blogElement.className = \"flex flex-row item-center w-full my-6\";\n          blogElement.innerHTML = `\n              <img\n                class=\"h-[50px] w-[63px] rounded-lg lazy opacity-0\"\n                alt=\"\"\n                data-src=\"${blog.meta_image}\"\n                />\n                <div class=\"mx-3\">\n                    <p\n                        class=\"text-[#637381] font-normal text-xs leading-[18px]\"\n                    >\n                        <i class=\"fa fa-clock-o\"></i> ${blog.published_on}\n                    </p>\n                    <span\n                        class=\"text-[#212B36] font-semibold text-base leading-5 text-container\"\n                    >${blog.title}\n                    </span>\n                </div>\n            `;\n          blogRecent.appendChild(blogElement);\n        }\n\n        // Hiển thị các nút phân trang\n        lazyLoading();\n      }\n\n      function displayPagination() {\n        const paginationContainer = document.getElementById(\"pagination-container\");\n        total_page <= 1\n          ? paginationContainer.classList.add(\"hidden\")\n          : paginationContainer.classList.remove(\"hidden\");\n\n        const prevPage = document.getElementById(\"prev-page\");\n        const nextPage = document.getElementById(\"next-page\");\n\n        currentPage === 1\n          ? prevPage?.classList.add(\"no-active\")\n          : prevPage.classList.remove(\"no-active\");\n        currentPage === total_page\n          ? nextPage?.classList.add(\"no-active\")\n          : nextPage.classList.remove(\"no-active\");\n\n        paginationContainer\n          ?.querySelectorAll(\".page-number, .pagination-ellipsis\")\n          ?.forEach((button) => button.remove());\n\n        let startPage = Math.max(1, currentPage - 1);\n        let endPage = Math.min(total_page, currentPage + 1);\n\n        // Điều chỉnh để luôn hiển thị tối đa 5 trang\n        if (endPage - startPage < 4) {\n          if (startPage === 1) {\n            endPage = Math.min(total_page, startPage + 4);\n          } else if (endPage === total_page) {\n            startPage = Math.max(1, endPage - 4);\n          }\n        }\n\n        // Thêm nút \"1\" và \"...\" nếu cần\n        if (startPage > 1) {\n          createPageButton(1, paginationContainer); // Nút đầu tiên\n\n          if (startPage > 2) {\n            createEllipsis(paginationContainer); // Thêm dấu \"...\"\n          }\n        }\n\n        // Tạo các nút trang\n        for (let i = startPage; i <= endPage; i++) {\n          createPageButton(i, paginationContainer, i === currentPage);\n        }\n\n        // Thêm nút \"...\" và nút cuối cùng nếu cần\n        if (endPage < total_page) {\n          if (endPage < total_page - 1) {\n            createEllipsis(paginationContainer); // Thêm dấu \"...\"\n          }\n          createPageButton(total_page, paginationContainer); // Nút cuối cùng\n        }\n      }\n\n      // Hàm tạo nút trang\n      function createPageButton(page, container, isActive = false) {\n        const pageButton = document.createElement(\"button\");\n        pageButton.innerText = page;\n        pageButton.className = `page-number text-sm text-[#222222] font-normal px-2 py-[1px] ${isActive ? \"active\" : \"\"\n          }`;\n        pageButton.addEventListener(\"click\", () => {\n          currentPage = page;\n          getBlogList();\n          updateURL(); // Cập nhật URL\n        });\n        container.insertBefore(pageButton, document.getElementById(\"next-page\"));\n      }\n\n      // Hàm tạo dấu \"...\"\n      function createEllipsis(container) {\n        const ellipsis = document.createElement(\"span\");\n        ellipsis.innerText = \"...\";\n        ellipsis.className = \"pagination-ellipsis px-2 py-[1px]\";\n        container.insertBefore(ellipsis, document.getElementById(\"next-page\"));\n      }\n\n      function updateURL() {\n        const currentUrl = new URL(window.location.href);\n        currentUrl.searchParams.set(\"page_number\", currentPage);\n        history.replaceState({}, \"\", currentUrl);\n      }\n\n      // Thêm sự kiện click cho nút Previous\n      document.getElementById(\"prev-page\").addEventListener(\"click\", () => {\n        if (currentPage > 1) {\n          currentPage--;\n          getBlogList();\n        }\n      });\n\n      // Thêm sự kiện click cho nút Next\n      document.getElementById(\"next-page\").addEventListener(\"click\", () => {\n        if (currentPage < total_page) {\n          currentPage++;\n          getBlogList();\n        }\n      });\n\n      // Gọi hàm hiển thị lần đầu tiên\n      getBlogList();\n      getRecentBlog();\n\n\n    </script>", "doctype": "Page Section", "content": [{"name": "18322df80f", "owner": "Administrator", "creation": "2024-10-07 15:24:32.202708", "modified": "2024-10-07 15:24:32.216325", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Tiêu đề tin gần đây", "field_key": "title_recent", "field_type": "Text", "content_type": "Data", "allow_update_to_style": 0, "content": "Dự án gần đây", "parent": "PS-24-0000012956", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}]