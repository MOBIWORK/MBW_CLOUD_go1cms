[{"name": "PS-24-0000012554", "owner": "Administrator", "creation": "2024-10-05 08:42:06.670800", "modified": "2024-10-15 16:18:12.908144", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "section_title": "BreadCrumb web bán hàng 1", "route": "breadcrumb web b-n h-ng 1", "class_name": "wzzjxiib", "is_template": 0, "section_group": "Trang web bán hàng 1", "is_full_width": 0, "allow_clone": 1, "is_clone": 0, "section_type": "Static Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "BreadCrumb web bán hàng 1", "image_option": "Same Document", "allow_update_to_style": 0, "query_by_category": 0, "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-10-04 16-07-41.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<div class=\"bg-[white] container mb-[60px] rounded-b-md border border-solid border-grey\">\n          <div\n            class=\"breadcumb mx-auto container py-4 flex flex-wrap flex-row items-center justify-between gap-2\"\n          >\n                       <span class=\"text-sm font-semibold text-[#4B5966]\">{{ title }}</span>\n            <div class=\"flex flex-wrap flex-row items-center gap-2\">\n            {% for brc in breadcrumb %} \n             {% if loop.first %}\n               <a href=\"{{ brc.route }}\" class=\"text-sm font-normal text-[#212B36]\">{{ brc.menu }}</a>\n             {% elif not loop.last %}\n            <img\n              src=\"/files/no-active-arrown.svg\"\n              alt=\"\"\n              class=\"w-6 h-6\"\n            />\n            <a href=\"{{ brc.route }}\" class=\"text-sm font-normal text-[#212B36]\">{{ brc.menu }}</a>\n             {% else %}\n            <img\n              src=\"/files/active-arrown.svg\"\n              alt=\"\"\n              class=\"w-6 h-6\"\n            />\n            <a href=\"{{ brc.route }}\" class=\"text-sm font-normai text-[#1877F2]\"\n              >{{ brc.menu }}</a\n            >\n           {% endif %}\n           {% endfor %}\n           </div>\n\n          </div>\n        </div>", "doctype": "Page Section", "content": [{"name": "925b2ec40a", "owner": "Administrator", "creation": "2024-10-05 08:42:06.670800", "modified": "2024-10-15 16:18:12.908144", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Đường dẫn", "field_key": "breadcrumb", "field_type": "List", "content_type": "Data", "allow_update_to_style": 0, "content": "[{\"menu\":\"Trang chủ\",\"route\":\"/home\",\"idx\":1},{\"menu\":\"Tin tức\",\"route\":\"#\",\"idx\":2}]", "fields_json": "[{\"field_label\":\"Tiêu đề\",\"field_key\":\"menu\",\"field_type\":\"Text\",\"idx\":1},{\"field_label\":\"Đường dẫn\",\"field_key\":\"route\",\"field_type\":\"Text\",\"idx\":2}]", "parent": "PS-24-0000012554", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "bd02df18c2", "owner": "Administrator", "creation": "2024-10-05 08:42:06.670800", "modified": "2024-10-15 16:18:12.908144", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "field_label": "Tiêu đề", "field_key": "title", "field_type": "Text", "content_type": "Data", "allow_update_to_style": 0, "content": "Tin tức", "parent": "PS-24-0000012554", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}, {"name": "PS-24-0000014629", "owner": "Administrator", "creation": "2024-10-15 15:40:52.048978", "modified": "2024-10-15 15:40:52.059208", "modified_by": "Administrator", "docstatus": 0, "idx": 3, "section_title": "List news Ecommerence Web", "route": "list news ecommerence web", "class_name": "kmttggiu", "is_template": 1, "section_group": "Trang web bán hàng 1", "is_full_width": 0, "allow_clone": 1, "is_clone": 0, "section_type": "Custom Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "List news Ecommerence Web", "image_option": "Same Document", "allow_update_to_style": 0, "reference_document": "Mbw Blog Post", "query_by_category": 1, "category": "Tin tức", "no_of_records": 9, "sort_by": "DESC", "dynamic_data": 0, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-07-02 10-49-35.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "    <section class=\"w-full discover flex item-center justify-center py-5 my-10\">\n      <div class=\"container flex-col text-center mx-3 xl:mx-0\">\n        <div class=\"grid grid-cols-1 xl:grid-cols-4 gap-4\">\n          <div class=\"col-span-4 grid grid-cols-1 gap-0\">\n            <div class=\"border-l-[6px] border-[#1877F2] pl-5 mb-5 text-left\">\n              <span class=\"font-semibold text-[32px] text-[#111111] uppercase\"\n                >{{title}}</span\n              >\n            </div>\n            <div\n              class=\"list-info text-left grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 h-fit\"\n              id=\"news-container\"\n            ></div>\n            <div\n              id=\"pagination-container\"\n              class=\"flex justify-center h-fit mt-5 hidden\"\n            >\n              <button id=\"prev-page\" class=\"px-2 py-[1px] text-xl\">\n                <svg\n                  class=\"h-4\"\n                  viewBox=\"0 0 7 12\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M6.83938 2.06621V1.03094C6.83938 0.941211 6.73625 0.891658 6.66661 0.946568L0.629107 5.66219C0.57781 5.70209 0.536302 5.75317 0.50775 5.81154C0.479198 5.86992 0.464355 5.93404 0.464355 5.99902C0.464355 6.06401 0.479198 6.12813 0.50775 6.18651C0.536302 6.24488 0.57781 6.29596 0.629107 6.33585L6.66661 11.0515C6.73759 11.1064 6.83938 11.0568 6.83938 10.9671V9.93184C6.83938 9.86621 6.80857 9.80327 6.75768 9.76309L1.93625 5.99969L6.75768 2.23496C6.80857 2.19478 6.83938 2.13184 6.83938 2.06621Z\"\n                    fill=\"currentColor\"\n                  />\n                </svg>\n              </button>\n              <button id=\"next-page\" class=\"px-2 py-[1px] text-xl\">\n                <svg\n                  class=\"h-4\"\n                  viewBox=\"0 0 7 12\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M6.39777 5.66281L0.360269 0.947189C0.344493 0.934768 0.325533 0.92705 0.305568 0.924919C0.285603 0.922788 0.265441 0.926332 0.247399 0.935143C0.229357 0.943955 0.214166 0.957676 0.203571 0.974732C0.192976 0.991787 0.187406 1.01149 0.187501 1.03156V2.06683C0.187501 2.13246 0.218305 2.1954 0.269198 2.23558L5.09063 6.00031L0.269198 9.76505C0.216966 9.80522 0.187501 9.86817 0.187501 9.9338V10.9691C0.187501 11.0588 0.290626 11.1083 0.360269 11.0534L6.39777 6.33781C6.44908 6.29779 6.4906 6.24658 6.51915 6.1881C6.5477 6.12962 6.56254 6.06539 6.56254 6.00031C6.56254 5.93523 6.5477 5.87101 6.51915 5.81253C6.4906 5.75404 6.44908 5.70284 6.39777 5.66281Z\"\n                    fill=\"currentColor\"\n                  />\n                </svg>\n              </button>\n            </div>\n            <div\n              id=\"empty-new\"\n              class=\"hidden flex flex-col justify-center items-center gap-[38px] py-[80px] col-span-full mt-[38px]\"\n            >\n              <img\n                src=\"/files/empty-state.svg\"\n                alt=\"\"\n                class=\"w-[245.64px] h-[236.85px]\"\n              />\n              <span class=\"text-[#212B36] font-bold text-xl\"\n                >Không có kết quả tìm kiếm\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>", "custom_css": "      .text-container {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n      }\n\n      .text-line {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n        overflow: hidden;\n      }\n\n      .page-number.active {\n        border: 1px solid #c4161c;\n        color: #c4161c;\n        border-radius: 2px;\n        font-weight: 500;\n      }\n\n      .no-active {\n        color: gray;\n        pointer-events: none;\n      }", "custom_js": "<script>\n      let news = [];\n      const apiBlogList =\n        \"/api/method/go1_cms.api.website.blog.get_blog_list\";\n      const newsContainer = document.getElementById(\"news-container\");\n\n      const name_section = \"{{ name_section }}\";\n      let itemsPerPage = 9; // Số lượng công việc trên mỗi trang\n      let total_page = 1;\n      let total = 1;\n      let category = \"{{ category }}\"\n\n      // Lấy URL hiện tại\n      const currentUrl = new URL(window.location.href);\n\n      // Lấy số trang hiện tại từ URL hoặc mặc định là 1\n      let currentPage = parseInt(currentUrl.searchParams.get(\"page_number\")) || 1;\n\n      const getBlogList = () => {\n        const currentUrl = new URL(window.location.href);\n        fetch(\n          `${apiBlogList}?name_section=${name_section}&text_search=${currentUrl.searchParams.get(\"search\") || \"\"\n          }&page_no=${currentPage}&blog_category=${category}`,\n          {\n            method: \"GET\"\n          }\n        )\n          .then((response) => response.json())\n          .then((result) => {\n            if (result.message) {\n              news = result.message?.data;\n              itemsPerPage = result.message?.pagination.limit;\n              total_page = result.message?.pagination.total_page;\n              total = result.message?.pagination.total;\n            }\n          })\n          .catch((error) => {\n            console.log(error);\n          })\n          .finally(() => {\n            displayNews();\n            updateURL();\n          });\n      };\n\n      function displayNews() {\n        const newContainer = document.getElementById(\"news-container\");\n        const leftContainer = document.getElementById(\"left-container\");\n        const rightContainer = document.getElementById(\"right-container\");\n        newContainer.innerHTML = \"\"; // Xóa nội dung cũ\n\n        for (const blog of news) {\n          const blogElement = document.createElement(\"div\");\n          blogElement.className =\n            \"product-card w-full h-full item bg-white border border-gray-200 rounded-lg shadow\";\n          blogElement.innerHTML = `\n                <img\n                    class=\"image-product rounded-t-lg w-full h-[194px] lazy opacity-0\"\n                    data-src=\"${blog.meta_image}\"\n                    alt=\"\"\n                />\n                <div class=\"p-5 w-full flex flex-col items-start\">\n                        <div class=\"info-product flex justify-between items-center w-full\">\n                          <p class=\"text-black font-normal text-sm leading-[21px]\">\n                            <i class=\"far fa-clock\"></i> ${blog.published_on}\n                          </p>\n                          <p class=\"font-normal text-sm leading-7 text-black\">\n                            <i class=\"fa fa-user-circle\" aria-hidden=\"true\"></i> ${blog.blogger}\n                          </p>\n                        </div>\n    \n                        <div>\n                          <h5\n                            class=\"mb-2 text-lg font-bold tracking-tight text-[#212B36]\"\n                          >\n                            ${blog.title}\n                          </h5>\n                        </div>\n                        <p\n                          class=\"mb-3 font-normal text-sm text-[#637381] dark:text-gray-400 text-container\"\n                        >\n                          ${blog.blog_intro}\n                        </p>\n                <a href=\"/${blog.route}\"\n                    class=\"flex border items-center text-[#0E8DC4] w-fit p-2 rounded-lg\"\n                >\n                    <span class=\"font-medium text-sm text-[#0E8DC4] mr-1\"\n                        >Chi tiết</span\n                    >\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M19.9219 11.625C19.9531 11.6875 19.9727 11.75 19.9805 11.8125C19.9883 11.875 19.9922 11.9453 19.9922 12.0234C19.9922 12.1484 19.9688 12.2734 19.9219 12.3984C19.875 12.5234 19.8047 12.6328 19.7109 12.7266L12.7031 19.7344C12.6094 19.8125 12.5039 19.875 12.3867 19.9219C12.2695 19.9688 12.1484 19.9922 12.0234 19.9922C11.7422 19.9922 11.5039 19.8945 11.3086 19.6992C11.1133 19.5039 11.0156 19.2734 11.0156 19.0078C11.0156 18.8672 11.0391 18.7383 11.0859 18.6211C11.1328 18.5039 11.2031 18.3984 11.2969 18.3047L16.5938 13.0078H4.99219C4.72656 13.0078 4.49609 12.9102 4.30078 12.7148C4.10547 12.5195 4.00781 12.2891 4.00781 12.0234C4.00781 11.7422 4.10547 11.5039 4.30078 11.3086C4.49609 11.1133 4.72656 11.0156 4.99219 11.0156H16.5938L11.2969 5.71875C11.2031 5.625 11.1289 5.51953 11.0742 5.40234C11.0195 5.28516 10.9922 5.14844 10.9922 4.99219C10.9922 4.72656 11.0898 4.49609 11.2852 4.30078C11.4805 4.10547 11.7109 4.00781 11.9766 4.00781C12.1328 4.00781 12.2695 4.03516 12.3867 4.08984C12.5039 4.14453 12.6094 4.21875 12.7031 4.3125L19.7109 11.3203C19.7578 11.3516 19.7969 11.3945 19.8281 11.4492C19.8594 11.5039 19.8906 11.5625 19.9219 11.625Z\" fill=\"#0E8DC4\"/>\n                </svg>\n    \n                </a>\n                </div>\n            `;\n          newContainer.appendChild(blogElement);\n        }\n\n        // Hiển thị các nút phân trang\n        displayPagination();\n        window.scrollTo(0, 0);\n        lazyLoading();\n      }\n\n      function displayPagination() {\n        const paginationContainer = document.getElementById(\"pagination-container\");\n        total_page <= 1\n          ? paginationContainer.classList.add(\"hidden\")\n          : paginationContainer.classList.remove(\"hidden\");\n        total === 0\n          ? document.getElementById(\"empty-new\").classList.remove(\"hidden\")\n          : document.getElementById(\"empty-new\").classList.add(\"hidden\");\n\n        const prevPage = document.getElementById(\"prev-page\");\n        const nextPage = document.getElementById(\"next-page\");\n\n        currentPage === 1\n          ? prevPage?.classList.add(\"no-active\")\n          : prevPage.classList.remove(\"no-active\");\n        currentPage === total_page\n          ? nextPage?.classList.add(\"no-active\")\n          : nextPage.classList.remove(\"no-active\");\n\n        paginationContainer\n          ?.querySelectorAll(\".page-number, .pagination-ellipsis\")\n          ?.forEach((item) => item.remove());\n\n        let startPage = Math.max(1, currentPage - 1);\n        let endPage = Math.min(total_page, currentPage + 1);\n\n        // Điều chỉnh để luôn hiển thị tối đa 5 trang\n        if (endPage - startPage < 4) {\n          if (startPage === 1) {\n            endPage = Math.min(total_page, startPage + 4);\n          } else if (endPage === total_page) {\n            startPage = Math.max(1, endPage - 4);\n          }\n        }\n\n        // Thêm nút \"1\" và \"...\" nếu cần\n        if (startPage > 1) {\n          createPageButton(1, paginationContainer); // Nút đầu tiên\n\n          if (startPage > 2) {\n            createEllipsis(paginationContainer); // Thêm dấu \"...\"\n          }\n        }\n\n        // Tạo các nút trang\n        for (let i = startPage; i <= endPage; i++) {\n          createPageButton(i, paginationContainer, i === currentPage);\n        }\n\n        // Thêm nút \"...\" và nút cuối cùng nếu cần\n        if (endPage < total_page) {\n          if (endPage < total_page - 1) {\n            createEllipsis(paginationContainer); // Thêm dấu \"...\"\n          }\n          createPageButton(total_page, paginationContainer); // Nút cuối cùng\n        }\n      }\n\n      // Hàm tạo nút trang\n      function createPageButton(page, container, isActive = false) {\n        const pageButton = document.createElement(\"button\");\n        pageButton.innerText = page;\n        pageButton.className = `page-number text-sm text-[#222222] font-normal px-2 py-[1px] ${isActive ? \"active\" : \"\"\n          }`;\n        pageButton.addEventListener(\"click\", () => {\n          currentPage = page;\n          getBlogList();\n          updateURL(); // Cập nhật URL\n        });\n        container.insertBefore(pageButton, document.getElementById(\"next-page\"));\n      }\n\n      // Hàm tạo dấu \"...\"\n      function createEllipsis(container) {\n        const ellipsis = document.createElement(\"span\");\n        ellipsis.innerText = \"...\";\n        ellipsis.className = \"pagination-ellipsis px-2 py-[1px]\";\n        container.insertBefore(ellipsis, document.getElementById(\"next-page\"));\n      }\n\n      function updateURL() {\n        const currentUrl = new URL(window.location.href);\n        currentUrl.searchParams.set(\"page_number\", currentPage);\n        history.replaceState({}, \"\", currentUrl);\n      }\n\n      // Thêm sự kiện click cho nút Previous\n      document.getElementById(\"prev-page\").addEventListener(\"click\", () => {\n        if (currentPage > 1) {\n          currentPage--;\n          getBlogList();\n        }\n      });\n\n      // Thêm sự kiện click cho nút Next\n      document.getElementById(\"next-page\").addEventListener(\"click\", () => {\n        if (currentPage < total_page) {\n          currentPage++;\n          getBlogList();\n        }\n      });\n\n      // Gọi hàm hiển thị lần đầu tiên\n      getBlogList();\n\n    </script>", "doctype": "Page Section", "content": [{"name": "50b1f79322", "owner": "Administrator", "creation": "2024-10-15 15:40:52.048978", "modified": "2024-10-15 15:40:52.059208", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Tiêu đề", "field_key": "title", "field_type": "Text", "content_type": "Data", "allow_update_to_style": 0, "content": "Tin tức", "parent": "PS-24-0000014629", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}]