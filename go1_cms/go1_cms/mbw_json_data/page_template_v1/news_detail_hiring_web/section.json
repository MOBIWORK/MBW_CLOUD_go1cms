[{"name": "PS-24-0000007606", "owner": "Administrator", "creation": "2024-08-14 08:23:23.166012", "modified": "2024-08-14 08:23:23.166012", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "section_title": "MBW - Banner điều hướng trang", "route": "mbw - banner -i-u h--ng trang", "class_name": "lpbkbgrq", "is_template": 0, "section_group": "Trang tuyển dụng - Hiring Page", "is_full_width": 0, "section_type": "Static Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "MBW - Banner điều hướng trang", "image_option": "Same Document", "allow_update_to_style": 0, "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/private/files/Screenshot from 2024-06-04 09-21-37.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<section class=\"w-full\">\n        <div\n        class=\"header-sidebar bg-cover\"\n        style=\"background-image: url('{{ image_banner }}')\"\n      >\n        <div class=\"container mx-auto  flex item-center justify-center\">\n            <div class=\"w-full  text-white py-20 xl:py-[200px]\"  >\n                <div class=\"mx-4\">\n                    <div class=\" font-bold my-10\">\n                        <h1 class=\"text-4xl xl:text-6xl font-bold my-3 text-white\">{{ name }}</h1>\n                    </div>\n                </div>\n           </div>\n       </div>\n</section>", "doctype": "Page Section", "content": [{"name": "5a95a1c668", "owner": "Administrator", "creation": "2024-08-14 08:23:23.166012", "modified": "2024-08-14 08:23:23.166012", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Tiêu đề trang", "field_key": "name", "field_type": "Text", "content_type": "Data", "allow_update_to_style": 0, "content": "News details", "parent": "PS-24-0000007606", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "4104d9223c", "owner": "Administrator", "creation": "2024-08-14 08:23:23.166012", "modified": "2024-08-14 08:23:23.166012", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "field_label": "Ảnh banner", "field_key": "image_banner", "field_type": "Attach", "content_type": "Data", "allow_update_to_style": 0, "content": "/files/banner.jpeg", "parent": "PS-24-0000007606", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}, {"name": "PS-24-0000007607", "owner": "Administrator", "creation": "2024-08-14 08:23:23.282626", "modified": "2024-08-20 14:59:58.379368", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "section_title": "MBW Trang tin tức - tuyển dụng", "route": "mbw trang tin t-c - tuy-n d-ng", "class_name": "xezexunm", "is_template": 0, "section_group": "Trang tuyển dụng - Hiring Page", "is_full_width": 0, "section_type": "Custom Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "MBW Trang tin tức - tuyển dụng", "image_option": "Same Document", "allow_update_to_style": 0, "reference_document": "Mbw Blog Post", "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/private/files/Screenshot from 2024-06-03 16-39-20.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<section class=\"w-full discover flex item-center justify-center py-5\">\n      <div class=\"container flex-col m-3 xl:m-0\">\n        <div class=\"grid grid-cols-1 xl:grid-cols-4 xl:gap-4\">\n      \n <div class=\"col-span-3\">\n          <div class=\"mb-10\">\n              <p class=\"text-lg md:text-3xl text-left font-bold py-3 leading-9\">\n                {{ blog_detail.title }} \n              </p>\n              <div\n                class=\"text-[#637381] font-normal text-sm text-left flex items-center\"\n              >\n                <img\n                      class=\"h-3 w-3 mr-2\"\n                      src=\"/assets/go1_cms/images/Vectorhour.svg\"\n                      alt=\"\"\n                 /> \n                 {{ blog_detail.published_on }}\n              </div>\n        </div>\n          <div class=\"ck-content\">{{ blog_detail.content }}</div>\n</div>\n          <div class=\"xl:order-last mb-5\">\n            <div\n              class=\"flex flex-col border text-left border-gray-500 rounded-xl\"\n            >\n              <div class=\"p-5\">\n                <form>\n                  <div class=\"my-3\">\n                    <p class=\"font-bold mb-2\">Seacrh</p>\n                    <div class=\"mx-auto\">\n                      <label\n                        for=\"default-search\"\n                        class=\"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-black\"\n                        >Search</label\n                      >\n                      <div class=\"relative\">\n                        <input\n                          type=\"search\"\n                          id=\"news-search\"\n                          class=\"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-white\"\n                          placeholder=\"Search\"\n                          required\n                        />\n                        <div\n                          class=\"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none\"\n                        >\n                          <svg\n                            class=\"w-4 h-4 text-gray-500 dark:text-gray-400\"\n                            aria-hidden=\"true\"\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            fill=\"none\"\n                            viewBox=\"0 0 20 20\"\n                          >\n                            <path\n                              stroke=\"currentColor\"\n                              stroke-linecap=\"round\"\n                              stroke-linejoin=\"round\"\n                              stroke-width=\"2\"\n                              d=\"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z\"\n                            />\n                          </svg>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"my-3\">\n                    <p class=\"font-bold mb-2\">Category</p>\n                    <select\n                      id=\"category-select\"\n                      class=\"bg-white text-black text-sm rounded-lg border border-blue-500 block w-full p-4\"\n                    ></select>\n                  </div>\n                </form>\n\n                <div class=\"my-3 hidden xl:block\">\n                  <p class=\"mb-2 text-[#212B36] font-semibold leading-5\">\n                    Recent news\n                  </p>\n                  <div class=\"w-full\" id=\"blog-recent-container\"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>", "custom_js": "let recent_news = [];\nconst apiOptionsList =\n  \"/api/method/go1_cms.api.website.blog.get_categories\";\nconst apiRecentNews =\n  \"/api/method/go1_cms.api.website.blog.get_recent_blog\";\nconst name_section = \"{{ name_section }}\";\nconst newSearch = document.getElementById(\"news-search\");\nconst category_search = document.getElementById(\"category-select\");\n\nconst getOptionsList = () => {\n  fetch(apiOptionsList, {\n    method: \"GET\",\n  })\n    .then((response) => response.json())\n    .then((result) => {\n      console.log(result);\n      if (result.message) {\n        const options = result.message?.data;\n        populateSelect(options);\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      console.log(\"Options fetched\");\n    });\n};\n\nfunction populateSelect(options) {\n  // Xóa các tùy chọn cũ, nếu có\n\n  options.forEach((option) => {\n    const optionElement = document.createElement(\"option\");\n    optionElement.value = option.value; // Assuming your options have a 'value' property\n    optionElement.text = option.label; // Assuming your options have a 'label' property\n    category_search.appendChild(optionElement);\n  });\n}\n\nconst getRecentBlog = () => {\n  fetch(`${apiRecentNews}?name_section=${name_section}`, {\n    method: \"GET\",\n  })\n    .then((response) => response.json())\n    .then((result) => {\n      console.log(result);\n      if (result.message) {\n        recent_news = result.message?.data;\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      console.log(\"Call api recent news\");\n      displayBlogRecent();\n    });\n};\n\nfunction displayBlogRecent() {\n  const blogRecent = document.getElementById(\"blog-recent-container\");\n\n  for (const blog of recent_news) {\n    const blogElement = document.createElement(\"a\");\n    blogElement.href = blog.route;\n    blogElement.className = \"flex flex-row item-center w-full my-6 text-line\";\n    blogElement.innerHTML = `\n            <img\n              class=\"h-[50px] w-[63px] rounded-lg\"\n              alt=\"\"\n              src='${blog.meta_image}'\n              />\n              <div class=\"mx-3\">\n                  <p\n                      class=\"text-[#637381] font-normal text-xs leading-[18px]\"\n                  >\n                      <i class=\"fa fa-clock-o\"></i> ${blog.published_on}\n                  </p>\n                  <span\n                      class=\"text-[#212B36] font-semibold text-base leading-5\"\n                  >${blog.title}\n                  </span>\n              </div>\n          `;\n    blogRecent.appendChild(blogElement);\n  }\n\n  // Hiển thị các nút phân trang\n  window.scrollTo(0, 400);\n}\n\ngetRecentBlog();\ngetOptionsList();\n\n// Debounce function: kỹ thuật debounced\nfunction debounce(func, wait) {\n  let timeout;\n  return function (...args) {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func.apply(this, args), wait);\n  };\n}\n\nconst redirectUrl = () => {\n  let url = \"/tin-tuc?page_number=1&\";\n  url += `search=${newSearch.value}&`;\n  url += `category_search=${category_search.value}`;\n  window.location.href = url;\n};\n\nnewSearch.addEventListener(\n  \"input\",\n  debounce(() => {\n    redirectUrl();\n  }, 1000)\n);\n\ncategory_search.addEventListener(\"change\", () => {\n  redirectUrl();\n});\nlocalStorage.setItem(\"name_blog\", '{{ blog_detail.name }}');", "doctype": "Page Section", "content": [{"name": "5e026abfee", "owner": "Administrator", "creation": "2024-08-14 08:23:23.282626", "modified": "2024-08-20 14:59:58.379368", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Ảnh", "field_key": "image", "field_type": "Attach", "content_type": "Data", "allow_update_to_style": 0, "content": "/files/Rectanglebanner.png", "parent": "PS-24-0000007607", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}, {"name": "PS-24-0000008305", "owner": "Administrator", "creation": "2024-08-20 14:59:28.069264", "modified": "2024-08-20 15:02:18.630265", "modified_by": "Administrator", "docstatus": 0, "idx": 3, "section_title": "Hiring Page Related Blog Post", "route": "hiring page related blog post", "class_name": "bmqdibnw", "is_template": 1, "section_group": "Trang tuyển dụng - Hiring Page", "is_full_width": 0, "section_type": "Static Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "Hiring Page Related Blog Post", "image_option": "Same Document", "allow_update_to_style": 0, "reference_document": "Mbw Blog Post", "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<section class=\"w-full discover flex item-center justify-center py-5\">\n  <div class=\"container flex-col text-center\">\n    <div class=\"flex item-center justify-center flex-col gap-5\">\n      <p class=\"text-5xl font-bold\">{{ title }}</p>\n    </div>\n    <div\n      class=\"text-left grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 mt-[38px]\"\n      id=\"blog_related\"\n    >\n    </div>\n  </div>\n</section>\n", "custom_css": "      .text-container {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n      }", "custom_js": "let blogs = [];\nconst apiRelatedBlog = '/api/method/go1_cms.api.website.blog.get_related_blogs'\nconst name_blog = localStorage.getItem(\"name_blog\");\n\n const getRelatedBlog = () => {\n      fetch(`${apiRelatedBlog}?name=${name_blog}`, {\n        method: \"GET\",\n      })\n        .then((response) => response.json())\n        .then((result) => {\n          console.log(result);\n          if (result.message) {\n            blogs = result.message?.data\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        }).finally(() => {\n           console.log('Experiment completed');\n           displayBlogs()\n        });\n    };\n\nfunction displayBlogs() {\n  const jobContainer = document.getElementById(\"blog_related\");\n\n  const paginatedBlogs = blogs?.length > 3 ? blogs?.slice(0, 3) : blogs\n  for (const blog of paginatedBlogs) {\n    const jobElement = document.createElement(\"div\");\n    jobElement.className =\n      \"w-full h-full item bg-white border border-gray-200 rounded-lg shadow\";\n    jobElement.innerHTML = `\n        <a href=\"#\">\n              <img\n                class=\"rounded-t-lg h-[247px] w-full\"\n                src=\"${blog.meta_image}\"\n                alt=\"\"\n              />\n            </a>\n            <div class=\"p-5\">\n              <p class=\"text-gray-500 font-normal text-sm leading-[21px]\">\n                <i class=\"fa fa-clock-o\"></i> ${blog.published_on}\n              </p>\n\n              <a href=\"#\">\n                <h5\n                  class=\"mb-2 text-lg font-bold tracking-tight text-[#212B36]\"\n                >\n                  ${blog.title}\n                </h5>\n              </a>\n              <p\n                class=\"mb-3 font-normal text-sm text-[#637381] dark:text-gray-400 text-container\"\n              >\n                ${blog.blog_intro}\n              </p>\n            </div>\n      `;\n    jobContainer.appendChild(jobElement);\n  }\n}\n\ngetRelatedBlog();", "doctype": "Page Section", "content": [{"name": "ab33c4b1ab", "owner": "Administrator", "creation": "2024-08-20 14:59:28.069264", "modified": "2024-08-20 15:02:18.630265", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Tiêu đề", "field_key": "title", "field_type": "Text", "content_type": "Data", "allow_update_to_style": 0, "content": "Related Topics", "parent": "PS-24-0000008305", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}]