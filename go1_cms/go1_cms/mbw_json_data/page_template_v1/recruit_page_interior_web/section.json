[{"name": "PS-24-0000008528", "owner": "Administrator", "creation": "2024-08-21 16:51:53.212748", "modified": "2024-08-21 16:51:53.212748", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "section_title": "BreadCrumb", "route": "breadcrumb", "class_name": "ljmtadpt", "is_template": 0, "section_group": "Trang Nội Thất - Interior Web", "is_full_width": 0, "section_type": "Static Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "BreadCrumb", "image_option": "Same Document", "allow_update_to_style": 0, "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-06-17 08-55-54.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<div class=\"bg-[#FFE1A033]\">\n          <div\n            class=\"breadcumb mx-auto container py-4 flex flex-row items-center gap-2\"\n          >\n            {% for brc in breadcrumb %} \n             {% if loop.first %}\n               <a href=\"{{ brc.route }}\" class=\"text-base font-normal text-[#212B36]\">{{ brc.menu }}</a>\n             {% elif not loop.last %}\n            <img\n              src=\"{{ breadcrumb_no_active }}\"\n              alt=\"\"\n              class=\"w-6 h-3\"\n            />\n            <a href=\"{{ brc.route }}\" class=\"text-base font-normal text-[#212B36]\">{{ brc.menu }}</a>\n             {% else %}\n            <img\n              src=\"{{ breadcrumb_active }}\"\n              alt=\"\"\n              class=\"w-6 h-3\"\n            />\n            <a href=\"{{ brc.route }}\" class=\"text-base font-semibold text-[#6B090B]\"\n              >{{ brc.menu }}</a\n            >\n           {% endif %}\n           {% endfor %}\n          </div>\n        </div>", "doctype": "Page Section", "content": [{"name": "820281b793", "owner": "Administrator", "creation": "2024-08-21 16:51:53.212748", "modified": "2024-08-21 16:51:53.212748", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Breadcrumb active", "field_key": "breadcrumb_active", "field_type": "Text", "content_type": "Data", "allow_update_to_style": 0, "content": "/files/Vectorlogo-breadcrumb.png", "parent": "PS-24-0000008528", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "d7e1617cc1", "owner": "Administrator", "creation": "2024-08-21 16:51:53.212748", "modified": "2024-08-21 16:51:53.212748", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "field_label": "Breadcrumb no active", "field_key": "breadcrumb_no_active", "field_type": "Text", "content_type": "Data", "allow_update_to_style": 0, "content": "/files/Vector-noActive-breadcumb.png", "parent": "PS-24-0000008528", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "bf4fdfa71e", "owner": "Administrator", "creation": "2024-08-21 16:51:53.212748", "modified": "2024-08-21 16:51:53.212748", "modified_by": "Administrator", "docstatus": 0, "idx": 3, "field_label": "Đường dẫn", "field_key": "breadcrumb", "field_type": "List", "content_type": "Data", "allow_update_to_style": 0, "content": "[{\"menu\":\"Trang chủ\",\"route\":\"/home\",\"idx\":1},{\"menu\":\"Công việc\",\"route\":\"/cong-viec\",\"idx\":2}]", "fields_json": "[{\"field_label\":\"Tiêu đề\",\"field_key\":\"menu\",\"field_type\":\"Text\",\"idx\":1},{\"field_label\":\"Đường dẫn\",\"field_key\":\"route\",\"field_type\":\"Text\",\"idx\":2}]", "parent": "PS-24-0000008528", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}, {"name": "PS-24-0000008529", "owner": "Administrator", "creation": "2024-08-21 16:51:53.271831", "modified": "2024-08-21 16:51:53.271831", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "section_title": "MBW Title Section", "route": "mbw title section", "class_name": "wbgbpnto", "is_template": 0, "section_group": "Features", "is_full_width": 0, "section_type": "Static Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "MBW Title Section", "image_option": "Same Document", "allow_update_to_style": 0, "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-06-03 10-43-11.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<div class=\"content mt-[60px] mb-[60px]\">\n  <div class=\"flex justify-center items-center pt-15\">\n    <div><img src=\"/files/kh1.png\" alt=\"\" /></div>\n    <b class=\"md:text-2xl lg:text-[35px] text-[#6b090b] text-nowrap uppercase\"\n      >{{ title }}</b\n    >\n    <div><img src=\"/files/kh1.png\" alt=\"\" /></div>\n  </div>\n<div class=\"mt-5 flex flex-col justify-center items-center text-base text-[#212B36] font-normal gap-5 max-w-[500px] mx-auto\">\n    {% for item in descriptions %}\n        <i class=\"text-center\">\n            {{ item.describe }}\n        </i>\n    {% endfor %}\n</div>\n</div>", "doctype": "Page Section", "content": [{"name": "5ad3d7095d", "owner": "Administrator", "creation": "2024-08-21 16:51:53.271831", "modified": "2024-08-21 16:51:53.271831", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Tiêu đề", "field_key": "title", "field_type": "Text", "content_type": "Data", "allow_update_to_style": 0, "content": "Tin Tuyển dụng", "parent": "PS-24-0000008529", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "cc525298a3", "owner": "Administrator", "creation": "2024-08-21 16:51:53.271831", "modified": "2024-08-21 16:51:53.271831", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "field_label": "Mô tả", "field_key": "descriptions", "field_type": "List", "content_type": "Data", "allow_update_to_style": 0, "content": "[{\"describe\":\"Các vị trí chúng tôi đang cần\",\"idx\":1}]", "fields_json": "[{\"field_label\":\"mô tả\",\"field_key\":\"describe\",\"field_type\":\"Small Text\",\"idx\":1}]", "parent": "PS-24-0000008529", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}, {"name": "PS-24-0000008530", "owner": "Administrator", "creation": "2024-08-21 16:51:53.316704", "modified": "2024-08-21 16:51:53.316704", "modified_by": "Administrator", "docstatus": 0, "idx": 3, "section_title": "List recruit Interior Web", "route": "list recruit interior web", "class_name": "ehzoglts", "is_template": 0, "section_group": "Features", "is_full_width": 0, "section_type": "Static Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "List recruit Interior Web", "image_option": "Same Document", "allow_update_to_style": 0, "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-06-03 16-10-26.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<div class=\"mx-auto container\">\n      <div\n        class=\"list-recruit mt-6 text-base font-normal leading-5 flex flex-col gap-[40px]\"\n        id=\"job-container\"\n      ></div>\n      <div id=\"pagination-container\" class=\"flex justify-center h-fit mt-2 hidden\">\n        <button id=\"prev-page\" class=\"px-2 py-[1px] text-xl\"><</button>\n        <button id=\"next-page\" class=\"px-2 py-[1px] text-xl\">></button>\n      </div>\n    </div>\n", "custom_css": "      .text-container {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n      }\n\n      .text-line {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n        overflow: hidden;\n      }\n\n      .page-number.active {\n        border: 1px solid #c4161c;\n        color: #c4161c;\n        border-radius: 2px;\n        font-weight: 500;\n      }\n\n      .no-active {\n        color: gray;\n        pointer-events: none;\n      }", "custom_js": "let jobs = [];\nlet itemsPerPage = 9; // Số lượng công việc trên mỗi trang\nlet total_page = 1;\n\n// Lấy URL hiện tại\nconst currentUrl = new URL(window.location.href);\n// Lấy số trang hiện tại từ URL hoặc mặc định là 1\nlet currentPage = parseInt(currentUrl.searchParams.get(\"page_number\")) || 1;\n\nconst apiGetJobsList =\n  \"/api/method/go1_cms.api.website.jobs.get_all_job\";\nconst name_section = \"{{ name_section }}\";\n\nconst getJobList = () => {\n  fetch(\n    `${apiGetJobsList}?name_section=${name_section}&page_no=${currentPage}`,\n    {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    }\n  )\n    .then((response) => response.json())\n    .then((result) => {\n      console.log(result);\n      if (result.message) {\n        jobs = result.message?.data;\n        itemsPerPage = result.message?.pagination.limit;\n        total_page = result.message?.pagination.total_page;\n        displayJobs(currentPage);\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      console.log(\"Call API list new\");\n      displayJobs();\n      updateURL();\n    });\n};\n\nfunction displayJobs(page) {\n  const jobContainer = document.getElementById(\"job-container\");\n  jobContainer.innerHTML = \"\"; // Xóa nội dung cũ\n\n  if (jobs?.length === 0) {\n    const emptyElement = document.createElement(\"div\");\n    emptyElement.className =\n      \"flex flex-col justify-center items-center gap-[38px] py-[80px] col-span-full mt-[38px]\";\n    emptyElement.innerHTML = `\n      <img src=\"/files/empty-state.svg\" alt=\"Không có kết quả\" class=\"w-[245.64px] h-[236.85px]\"></img>\n      <span class=\"text-[#212B36] font-bold text-xl\">Không có kết quả tìm kiếm </span>\n      `;\n    jobContainer.appendChild(emptyElement);\n  } else {\n    for (const job of jobs) {\n      const jobElement = document.createElement(\"div\");\n      jobElement.className =\n        \"item flex flex-col gap-4 sm:flex-row sm:gap-0 justify-between items-center p-8 border border-[#DFE3E8] rounded-lg\";\n      jobElement.innerHTML = `\n          <div class=\"flex flex-col gap-5\">\n            <div class=\"text-2xl font-medium text-[#6B090B]\">\n              <p class=\"text-2xl font-medium text-[#6B090B]\">${job.job_title}</p>\n            </div>\n            <div class=\"flex gap-5 text-base font-normal text-[#222222]\">\n              <div class=\"flex items-center gap-2\">\n                <img src=\"/files/clock.svg\" alt=\"\" />\n                <p>${job.pretty_posted_on}</p>\n              </div>\n              <div class=\"flex items-center gap-2\">\n                <img src=\"/files/ic-job.svg\" alt=\"\" />\n                <p>${job.employment_type}</p>\n              </div>\n            </div>\n          </div>\n          <a\n            class=\"p-4 flex items-center justify-center border border-[#DFE3E8] rounded-lg h-10\"\n            href=\"${job.route}\"\n          >\n            <div class=\"font-bold text-[#6B090B]\">Ứng tuyển</div>\n          </a>\n            `;\n      jobContainer.appendChild(jobElement);\n    }\n  }\n\n  // Hiển thị các nút phân trang\n  displayPagination();\n  window.scrollTo(0, 0);\n}\n\nfunction displayPagination() {\n  const paginationContainer = document.getElementById(\"pagination-container\");\n  total_page === 1\n    ? paginationContainer.classList.add(\"hidden\")\n    : paginationContainer.classList.remove(\"hidden\");\n\n  const prevPage = document.getElementById(\"prev-page\");\n  const nextPage = document.getElementById(\"next-page\");\n\n  currentPage === 1\n    ? prevPage?.classList.add(\"no-active\")\n    : prevPage.classList.remove(\"no-active\");\n  currentPage === total_page\n    ? nextPage?.classList.add(\"no-active\")\n    : nextPage.classList.remove(\"no-active\");\n\n  paginationContainer\n    ?.querySelectorAll(\".page-number\")\n    ?.forEach((button) => button.remove());\n\n  for (let i = 1; i <= total_page; i++) {\n    const pageButton = document.createElement(\"button\");\n    pageButton.innerText = i;\n    pageButton.className = `page-number text-sm text-[#222222] font-normal px-2 py-[1px] ${\n      i === currentPage ? \"active\" : \"\"\n    }`;\n    pageButton.addEventListener(\"click\", () => {\n      currentPage = i;\n      getJobList();\n    });\n    paginationContainer?.insertBefore(\n      pageButton,\n      document.getElementById(\"next-page\")\n    );\n  }\n}\n\ndocument.getElementById(\"prev-page\").addEventListener(\"click\", () => {\n  if (currentPage > 1) {\n    currentPage--;\n    getJobList();\n  }\n});\n\n// Thêm sự kiện click cho nút Next\ndocument.getElementById(\"next-page\").addEventListener(\"click\", () => {\n  if (currentPage < total_page) {\n    currentPage++;\n    getJobList();\n  }\n});\n\nfunction updateURL() {\n  const currentUrl = new URL(window.location.href);\n  currentUrl.searchParams.set(\"page_number\", currentPage);\n  history.replaceState({}, \"\", currentUrl);\n}\n\nsetTimeout(() => {\n  getJobList();\n}, 0);\n", "doctype": "Page Section", "content": [{"name": "f43ec34576", "owner": "Administrator", "creation": "2024-08-21 16:51:53.316704", "modified": "2024-08-21 16:51:53.316704", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Danh sách tuyển dụng", "field_key": "recruits", "field_type": "List", "content_type": "Data", "allow_update_to_style": 0, "content": "[{\"position\": \"Th\\u1ef1c t\\u1eadp sinh Marketing\\t\", \"time\": \"20/05/2004\\t\", \"type\": \"To\\u00e0n th\\u1eddi gian\\t\", \"idx\": 1}, {\"position\": \"Chuy\\u00ean vi\\u00ean ph\\u00e1t tri\\u1ec3n s\\u1ea3n ph\\u1ea9m\\t\", \"time\": \"20/05/2004\\t\", \"type\": \"To\\u00e0n th\\u1eddi gian\\t\", \"idx\": 2}, {\"position\": \"Chuy\\u00ean vi\\u00ean kinh Doanh\\t\", \"time\": \"20/05/2004\\t\", \"type\": \"To\\u00e0n th\\u1eddi gian\\t\", \"idx\": 3}, {\"position\": \"Th\\u1ef1c t\\u1eadp sinh Marketing\\t\", \"time\": \"20/05/2004\\t\", \"type\": \"To\\u00e0n th\\u1eddi gian\\t\", \"idx\": 4}, {\"position\": \"Th\\u1ef1c t\\u1eadp sinh Marketing\\t\", \"time\": \"20/05/2004\\t\", \"type\": \"Part time\\t\", \"idx\": 5}, {\"position\": \"Nh\\u00e2n vi\\u00ean nh\\u00e2n s\\u1ef1\\t\", \"time\": \"20/05/2004\\t\", \"type\": \"To\\u00e0n th\\u1eddi gian\\t\", \"idx\": 6}, {\"position\": \"Chuy\\u00ean vi\\u00ean tuy\\u1ec3n d\\u1ee5ng v\\u00e0 \\u0111\\u00e0o t\\u1ea1o\\t\", \"time\": \"20/05/2004\\t\", \"type\": \"To\\u00e0n th\\u1eddi gian\\t\", \"idx\": 7}, {\"position\": \"Th\\u1ef1c t\\u1eadp sinh tuy\\u1ec3n d\\u1ee5ng\\t\", \"time\": \"20/05/2004\\t\", \"type\": \"Part time\\t\", \"idx\": 8}, {\"position\": \"Th\\u1ef1c t\\u1eadp sinh Marketing\\t\", \"time\": \"20/05/2004\\t\", \"type\": \"To\\u00e0n th\\u1eddi gian\", \"idx\": 9}]", "fields_json": "[{\"field_label\":\"vị trí\",\"field_key\":\"position\",\"field_type\":\"Text\",\"idx\":1},{\"field_label\":\"thời gian\",\"field_key\":\"time\",\"field_type\":\"Text\",\"idx\":2},{\"field_label\":\"loại hình\",\"field_key\":\"type\",\"field_type\":\"Text\",\"idx\":3}]", "parent": "PS-24-0000008530", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}]