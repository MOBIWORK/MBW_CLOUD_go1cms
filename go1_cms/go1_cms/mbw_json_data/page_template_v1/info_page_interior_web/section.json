[{"name": "PS-24-0000008520", "owner": "Administrator", "creation": "2024-08-21 16:51:04.082151", "modified": "2024-08-21 16:51:04.082151", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "section_title": "BreadCrumb", "route": "breadcrumb", "class_name": "tsbqonjy", "is_template": 0, "section_group": "Trang Nội Thất - Interior Web", "is_full_width": 0, "section_type": "Static Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "BreadCrumb", "image_option": "Same Document", "allow_update_to_style": 0, "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-06-17 08-55-54.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<div class=\"bg-[#FFE1A033]\">\n          <div\n            class=\"breadcumb mx-auto container py-4 flex flex-row items-center gap-2\"\n          >\n            {% for brc in breadcrumb %} \n             {% if loop.first %}\n               <a href=\"{{ brc.route }}\" class=\"text-base font-normal text-[#212B36]\">{{ brc.menu }}</a>\n             {% elif not loop.last %}\n            <img\n              src=\"{{ breadcrumb_no_active }}\"\n              alt=\"\"\n              class=\"w-6 h-3\"\n            />\n            <a href=\"{{ brc.route }}\" class=\"text-base font-normal text-[#212B36]\">{{ brc.menu }}</a>\n             {% else %}\n            <img\n              src=\"{{ breadcrumb_active }}\"\n              alt=\"\"\n              class=\"w-6 h-3\"\n            />\n            <a href=\"{{ brc.route }}\" class=\"text-base font-semibold text-[#6B090B]\"\n              >{{ brc.menu }}</a\n            >\n           {% endif %}\n           {% endfor %}\n          </div>\n        </div>", "doctype": "Page Section", "content": [{"name": "f4989aea86", "owner": "Administrator", "creation": "2024-08-21 16:51:04.082151", "modified": "2024-08-21 16:51:04.082151", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Breadcrumb active", "field_key": "breadcrumb_active", "field_type": "Text", "content_type": "Data", "allow_update_to_style": 0, "content": "/files/Vectorlogo-breadcrumb.png", "parent": "PS-24-0000008520", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "b7c0151a58", "owner": "Administrator", "creation": "2024-08-21 16:51:04.082151", "modified": "2024-08-21 16:51:04.082151", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "field_label": "Breadcrumb no active", "field_key": "breadcrumb_no_active", "field_type": "Text", "content_type": "Data", "allow_update_to_style": 0, "content": "/files/Vector-noActive-breadcumb.png", "parent": "PS-24-0000008520", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "eae844f94d", "owner": "Administrator", "creation": "2024-08-21 16:51:04.082151", "modified": "2024-08-21 16:51:04.082151", "modified_by": "Administrator", "docstatus": 0, "idx": 3, "field_label": "Đường dẫn", "field_key": "breadcrumb", "field_type": "List", "content_type": "Data", "allow_update_to_style": 0, "content": "[{\"menu\":\"Trang chủ\",\"route\":\"/home\",\"idx\":1},{\"menu\":\"Tin tức\",\"route\":\"/tin-tuc\",\"idx\":2}]", "fields_json": "[{\"field_label\":\"Tiêu đề\",\"field_key\":\"menu\",\"field_type\":\"Text\",\"idx\":1},{\"field_label\":\"Đường dẫn\",\"field_key\":\"route\",\"field_type\":\"Text\",\"idx\":2}]", "parent": "PS-24-0000008520", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}, {"name": "PS-24-0000008521", "owner": "Administrator", "creation": "2024-08-21 16:51:04.143912", "modified": "2024-08-21 16:51:04.143912", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "section_title": "MBW Title Section", "route": "mbw title section", "class_name": "ndycjuvx", "is_template": 0, "section_group": "Features", "is_full_width": 0, "section_type": "Static Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "MBW Title Section", "image_option": "Same Document", "allow_update_to_style": 0, "no_of_records": 0, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-06-03 10-43-11.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "<div class=\"content mt-[60px] mb-[60px]\">\n  <div class=\"flex justify-center items-center pt-15\">\n    <div><img src=\"/files/kh1.png\" alt=\"\" /></div>\n    <b class=\"md:text-2xl lg:text-[35px] text-[#6b090b] text-nowrap uppercase\"\n      >{{ title }}</b\n    >\n    <div><img src=\"/files/kh1.png\" alt=\"\" /></div>\n  </div>\n<div class=\"mt-5 flex flex-col justify-center items-center text-base text-[#212B36] font-normal gap-5 max-w-[500px] mx-auto\">\n    {% for item in descriptions %}\n        <i class=\"text-center\">\n            {{ item.describe }}\n        </i>\n    {% endfor %}\n</div>\n</div>", "doctype": "Page Section", "content": [{"name": "feca10c12b", "owner": "Administrator", "creation": "2024-08-21 16:51:04.143912", "modified": "2024-08-21 16:51:04.143912", "modified_by": "Administrator", "docstatus": 0, "idx": 1, "field_label": "Tiêu đề", "field_key": "title", "field_type": "Text", "content_type": "Data", "allow_update_to_style": 0, "content": "Tin Tức", "parent": "PS-24-0000008521", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}, {"name": "5e00167e71", "owner": "Administrator", "creation": "2024-08-21 16:51:04.143912", "modified": "2024-08-21 16:51:04.143912", "modified_by": "Administrator", "docstatus": 0, "idx": 2, "field_label": "Mô tả", "field_key": "descriptions", "field_type": "List", "content_type": "Data", "allow_update_to_style": 0, "content": "[{\"describe\":\"Với những nhà thiết kế nội thất hàng đầu, ARUSA sẽ luôn đồng hành cùng bạn để tạo ra những trải nghiệm thú vị, những không gian sang trọng, đẳng cấp và tinh tế.\",\"idx\":1}]", "fields_json": "[{\"field_label\":\"mô tả\",\"field_key\":\"describe\",\"field_type\":\"Small Text\",\"idx\":1}]", "parent": "PS-24-0000008521", "parentfield": "content", "parenttype": "Page Section", "doctype": "Section Content"}], "section_column_css": [], "column_index": 1}, {"name": "PS-24-0000008522", "owner": "Administrator", "creation": "2024-08-21 16:51:04.185707", "modified": "2024-09-12 09:43:41.875370", "modified_by": "Administrator", "docstatus": 0, "idx": 3, "section_title": "MBW List Info Interior", "route": "/offers-list?token=gAAAAABma8N78CCuaHhTbqVywrHJ56navJfm4RPd4b4MVnFC4_Mdmi9lA0Jv5rEvGU7cfVsOrw5bsDt3LVr7zmbgFNT16Mc3Vg==", "class_name": "uxnvdfvs", "is_template": 0, "section_group": "Features", "is_full_width": 0, "section_type": "Custom Section", "view_type": "", "device_type": "Web & Mobile", "is_editable": 0, "is_login_required": 0, "content_type": "", "fetch_product": 0, "section_name": "MBW List Info Interior", "image_option": "Same Document", "allow_update_to_style": 0, "reference_document": "Mbw Blog Post", "no_of_records": 12, "sort_by": "DESC", "dynamic_data": 1, "display_data_randomly": 0, "image": "/files/Screenshot from 2024-06-03 11-49-15.png", "enable_view_more": 0, "custom_section_data": "[]", "bg_type": "Color", "bg_color": "#ffffff", "web_template": "    <section class=\"w-full discover flex item-center justify-center py-5\">\n      <div class=\"container flex-col text-center mx-3 xl:mx-0\">\n        <div class=\"grid grid-cols-1 xl:grid-cols-4 xl:gap-4\">\n          <div class=\"col-span-4 grid grid-cols-1 gap-0\">\n            <div\n              class=\"list-info text-left grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 h-fit\"\n              id=\"news-container\"\n            ></div>\n            <div id=\"pagination-container\" class=\"flex justify-center h-fit mt-4 hidden\">\n              <button id=\"prev-page\" class=\"px-2 py-[1px] text-xl\"><</button>\n              <button id=\"next-page\" class=\"px-2 py-[1px] text-xl\">></button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>", "custom_css": "    .text-container {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n      }\n\n      .text-line {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n        overflow: hidden;\n      }\n\n      .page-number.active {\n        border: 1px solid #c4161c;\n        color: #c4161c;\n        border-radius: 2px;\n        font-weight: 500;\n      }\n\n      .no-active {\n        color: gray;\n        pointer-events: none;\n      }", "custom_js": "let news = [];\nconst apiBlogList =\n  \"/api/method/go1_cms.api.website.blog.get_blog_list\";\nconst name_section = \"{{ name_section }}\";\nlet itemsPerPage = 9; // Số lượng công việc trên mỗi trang\nlet total_page = 1;\n\n// Lấy URL hiện tại\nconst currentUrl = new URL(window.location.href);\n\n// Lấy số trang hiện tại từ URL hoặc mặc định là 1\nlet currentPage = parseInt(currentUrl.searchParams.get(\"page_number\")) || 1;\n\nconst searchParams = new URLSearchParams(window.location.search);\n\nconst getBlogList = () => {\n  fetch(\n    `${apiBlogList}?name_section=${name_section}&page_no=${currentPage}`,\n    {\n      method: \"GET\",\n    }\n  )\n    .then((response) => response.json())\n    .then((result) => {\n      if (result.message) {\n        news = result.message?.data;\n        itemsPerPage = result.message?.pagination.limit;\n        total_page = result.message?.pagination.total_page;\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n    .finally(() => {\n      displayNews();\n      updateURL();\n    });\n};\n\nfunction displayNews() {\n  const newContainer = document.getElementById(\"news-container\");\n  newContainer.innerHTML = \"\"; // Xóa nội dung cũ\n  if (news.length === 0) {\n    const emptyElement = document.createElement(\"div\");\n    emptyElement.className =\n      \"flex flex-col justify-center items-center gap-[38px] py-[80px] col-span-full mt-[38px]\";\n    emptyElement.innerHTML = `\n      <img src=\"/files/empty-state.svg\" alt=\"\" class=\"w-[245.64px] h-[236.85px]\"></img>\n      <span class=\"text-[#212B36] font-bold text-xl\">Không có kết quả tìm kiếm </span>\n      `;\n    newContainer.appendChild(emptyElement);\n  } else {\n    for (const blog of news) {\n      const blogElement = document.createElement(\"a\");\n      blogElement.href = `/${blog.route}`;\n      blogElement.className =\n        \"w-full h-full item bg-white border border-gray-200 rounded-lg shadow\";\n      blogElement.innerHTML = `\n                <img\n                    class=\"rounded-t-lg w-full h-[147px]\"\n                    src='${blog.meta_image}'\n                    alt=\"\"\n                />\n                \n                    <div class=\"p-5\">\n                        <p class=\"text-gray-500 font-normal text-sm leading-[21px]\">\n                          <i class=\"fa fa-clock-o\"></i> ${blog.published_on}\n                        </p>\n    \n                        <a href=\"#\">\n                          <h5\n                            class=\"mb-2 text-lg font-bold tracking-tight text-[#212B36]\"\n                          >\n                            ${blog.title}\n                          </h5>\n                        </a>\n                        <p\n                          class=\"mb-3 font-normal text-sm text-[#637381] dark:text-gray-400 text-container\"\n                        >\n                          ${blog.blog_intro}\n                        </p>\n                    </div>\n            `;\n      newContainer.appendChild(blogElement);\n    }\n    displayPagination();\n    window.scrollTo(0, 0);\n  }\n}\n\nfunction displayPagination() {\n  const paginationContainer = document.getElementById(\"pagination-container\");\n  total_page === 1\n    ? paginationContainer.classList.add(\"hidden\")\n    : paginationContainer.classList.remove(\"hidden\");\n\n  const prevPage = document.getElementById(\"prev-page\");\n  const nextPage = document.getElementById(\"next-page\");\n\n  currentPage === 1\n    ? prevPage?.classList.add(\"no-active\")\n    : prevPage.classList.remove(\"no-active\");\n  currentPage === total_page\n    ? nextPage?.classList.add(\"no-active\")\n    : nextPage.classList.remove(\"no-active\");\n\n  paginationContainer\n    ?.querySelectorAll(\".page-number\")\n    ?.forEach((button) => button.remove());\n\n  for (let i = 1; i <= total_page; i++) {\n    const pageButton = document.createElement(\"button\");\n    pageButton.innerText = i;\n    pageButton.className = `page-number text-sm text-[#222222] font-normal px-2 py-[1px] ${\n      i === currentPage ? \"active\" : \"\"\n    }`;\n    pageButton.addEventListener(\"click\", () => {\n      currentPage = i;\n      getBlogList();\n    });\n    paginationContainer?.insertBefore(\n      pageButton,\n      document.getElementById(\"next-page\")\n    );\n  }\n}\n\nfunction updateURL() {\n  const currentUrl = new URL(window.location.href);\n  currentUrl.searchParams.set(\"page_number\", currentPage);\n  history.replaceState({}, \"\", currentUrl);\n}\n\n// Thêm sự kiện click cho nút Previous\ndocument.getElementById(\"prev-page\").addEventListener(\"click\", () => {\n  if (currentPage > 1) {\n    currentPage--;\n    getBlogList();\n  }\n});\n\n// Thêm sự kiện click cho nút Next\ndocument.getElementById(\"next-page\").addEventListener(\"click\", () => {\n  if (currentPage < total_page) {\n    currentPage++;\n    getBlogList();\n  }\n});\n\n// Gọi hàm hiển thị lần đầu tiên\nsetTimeout(() => {\n  getBlogList();\n}, 0);", "doctype": "Page Section", "content": [], "section_column_css": [], "column_index": 1}]